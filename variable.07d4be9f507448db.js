!function(){var t={49303:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var r=n("47455"),i=n("93226"),o=n("2177"),s=n.n(o),u=n("55725");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=s.forwardRef(function(t,e){var n=(0,o.useContext)(u.IconContext).prefixCls,i=void 0===n?"arco":n,a=t.spin,l=t.className,f=c(c({"aria-hidden":!0,focusable:!1,ref:e},t),{},{className:"".concat(l?l+" ":"").concat(i,"-icon ").concat(i,"-icon-arrow-up")});return a&&(f.className="".concat(f.className," ").concat(i,"-icon-loading")),delete f.spin,delete f.isIcon,s.createElement("svg",(0,r.default)({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},f),s.createElement("path",{d:"M11.27 20.272 23.997 7.544l12.728 12.728M24 43V8.705"}))});l.defaultProps={isIcon:!0},l.displayName="IconArrowUp";var f=l},51652:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var r=n("47455"),i=n("93226"),o=n("2177"),s=n.n(o),u=n("55725");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=s.forwardRef(function(t,e){var n=(0,o.useContext)(u.IconContext).prefixCls,i=void 0===n?"arco":n,a=t.spin,l=t.className,f=c(c({"aria-hidden":!0,focusable:!1,ref:e},t),{},{className:"".concat(l?l+" ":"").concat(i,"-icon ").concat(i,"-icon-github")});return a&&(f.className="".concat(f.className," ").concat(i,"-icon-loading")),delete f.spin,delete f.isIcon,s.createElement("svg",(0,r.default)({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},f),s.createElement("path",{fill:"currentColor",stroke:"none",d:"M.056 24.618c0 10.454 6.7 19.344 16.038 22.608 1.259.32 1.067-.582 1.067-1.19v-4.148c-7.265.853-7.553-3.957-8.043-4.758-.987-1.686-3.312-2.112-2.62-2.912 1.654-.853 3.34.213 5.291 3.1 1.413 2.09 4.166 1.738 5.562 1.385a6.777 6.777 0 0 1 1.856-3.253C11.687 34.112 8.55 29.519 8.55 24.057c0-2.646.874-5.082 2.586-7.045-1.088-3.243.102-6.01.26-6.422 3.11-.282 6.337 2.225 6.587 2.421 1.766-.474 3.782-.73 6.038-.73 2.266 0 4.293.26 6.069.74.603-.458 3.6-2.608 6.49-2.345.155.41 1.317 3.12.294 6.315 1.734 1.968 2.62 4.422 2.62 7.077 0 5.472-3.158 10.07-10.699 11.397a6.82 6.82 0 0 1 2.037 4.875v6.02c.042.48 0 .96.806.96 9.477-3.194 16.299-12.15 16.299-22.697C47.938 11.396 37.218.68 23.996.68 10.77.675.055 11.391.055 24.617l.001.001Z"}))});l.defaultProps={isIcon:!0},l.displayName="IconGithub";var f=l},55725:function(t,e,n){"use strict";n.r(e),n.d(e,{IconContext:function(){return r}});var r=(0,n("2177").createContext)({prefixCls:"arco"})},34880:function(t,e,n){var r=function(t,e,n,r,o){if(t===e)return t?[[L,t]]:[];if(null!=n){var s=O(t,e,n);if(s)return s}var a=u(t,e),l=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=c(t,e);var d=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var h=i(t,e);return l&&h.unshift([L,l]),d&&h.push([L,d]),C(h,o),r&&f(h),h},i=function(t,e){if(!t)return[[m,e]];if(!e)return[[y,t]];var n,i=t.length>e.length?t:e,s=t.length>e.length?e:t,u=i.indexOf(s);if(-1!==u)return n=[[m,i.substring(0,u)],[L,s],[m,i.substring(u+s.length)]],t.length>e.length&&(n[0][0]=n[2][0]=y),n;if(1===s.length)return[[y,t],[m,e]];var a=l(t,e);if(a){var c=a[0],f=a[1],d=a[2],h=a[3],E=a[4],v=r(c,d),p=r(f,h);return v.concat([[L,E]],p)}return o(t,e)},o=function(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=2*i,u=Array(o),a=Array(o),c=0;c<o;c++)u[c]=-1,a[c]=-1;u[i+1]=0,a[i+1]=0;for(var l=n-r,f=l%2!=0,d=0,h=0,E=0,v=0,p=0;p<i;p++){for(var g=-p+d;g<=p-h;g+=2){for(var _,O=i+g,T=(_=g===-p||g!==p&&u[O-1]<u[O+1]?u[O+1]:u[O-1]+1)-g;_<n&&T<r&&t.charAt(_)===e.charAt(T);)_++,T++;if(u[O]=_,_>n)h+=2;else if(T>r)d+=2;else if(f){var L=i+l-g;if(L>=0&&L<o&&-1!==a[L]){var N=n-a[L];if(_>=N)return s(t,e,_,T)}}}for(var b=-p+E;b<=p-v;b+=2){for(var N,L=i+b,S=(N=b===-p||b!==p&&a[L-1]<a[L+1]?a[L+1]:a[L-1]+1)-b;N<n&&S<r&&t.charAt(n-N-1)===e.charAt(r-S-1);)N++,S++;if(a[L]=N,N>n)v+=2;else if(S>r)E+=2;else if(!f){var O=i+l-b;if(O>=0&&O<o&&-1!==u[O]){var _=u[O],T=i+_-O;if(_>=(N=n-N))return s(t,e,_,T)}}}}return[[y,t],[m,e]]},s=function(t,e,n,i){var o=t.substring(0,n),s=e.substring(0,i),u=t.substring(n),a=e.substring(i),c=r(o,s),l=r(u,a);return c.concat(l)},u=function(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return h(t.charCodeAt(i-1))&&i--,i},a=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,s=1;;){var u=t.substring(i-s),a=e.indexOf(u);if(-1==a)return o;s+=a,(0==a||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}},c=function(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return E(t.charCodeAt(t.length-i))&&i--,i},l=function(t,e){var n,r,i,o,s,a=t.length>e.length?t:e,l=t.length>e.length?e:t;if(a.length<4||2*l.length<a.length)return null;function f(t,e,n){for(var r,i,o,s,a=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(a,l+1));){var d=u(t.substring(n),e.substring(l)),h=c(t.substring(0,n),e.substring(0,l));f.length<h+d&&(f=e.substring(l-h,l)+e.substring(l,l+d),r=t.substring(0,n-h),i=t.substring(n+d),o=e.substring(0,l-h),s=e.substring(l+d))}return 2*f.length>=t.length?[r,i,o,s,f]:null}var d=f(a,l,Math.ceil(a.length/4)),h=f(a,l,Math.ceil(a.length/2));return d||h?(n=h?d?d[4].length>h[4].length?d:h:h:d,t.length>e.length?(r=n[0],i=n[1],o=n[2],s=n[3]):(o=n[0],s=n[1],r=n[2],i=n[3]),[r,i,o,s,n[4]]):null},f=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=0,u=0,c=0,l=0;o<t.length;)t[o][0]==L?(n[r++]=o,s=c,u=l,c=0,l=0,i=t[o][1]):(t[o][0]==m?c+=t[o][1].length:l+=t[o][1].length,i&&i.length<=Math.max(s,u)&&i.length<=Math.max(c,l)&&(t.splice(n[r-1],0,[y,i]),t[n[r-1]+1][0]=m,r--,o=--r>0?n[r-1]:-1,s=0,u=0,c=0,l=0,i=null,e=!0)),o++;for(e&&C(t),d(t),o=1;o<t.length;){if(t[o-1][0]==y&&t[o][0]==m){var f=t[o-1][1],h=t[o][1],E=a(f,h),v=a(h,f);E>=v?(E>=f.length/2||E>=h.length/2)&&(t.splice(o,0,[L,h.substring(0,E)]),t[o-1][1]=f.substring(0,f.length-E),t[o+1][1]=h.substring(E),o++):(v>=f.length/2||v>=h.length/2)&&(t.splice(o,0,[L,f.substring(0,v)]),t[o-1][0]=m,t[o-1][1]=h.substring(0,h.length-v),t[o+1][0]=y,t[o+1][1]=f.substring(v),o++),o++}o++}},d=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),i=n.match(N),o=r.match(N),s=i&&n.match(b),u=o&&r.match(b),a=s&&n.match(S),c=u&&r.match(S),l=a&&t.match(R),f=c&&e.match(I);if(l||f)return 5;if(a||c)return 4;if(i&&!s&&u)return 3;else if(s||u)return 2;else if(i||o)return 1;return 0}for(var n=1;n<t.length-1;){if(t[n-1][0]==L&&t[n+1][0]==L){var r=t[n-1][1],i=t[n][1],o=t[n+1][1],s=c(r,i);if(s){var u=i.substring(i.length-s);r=r.substring(0,r.length-s),i=u+i.substring(0,i.length-s),o=u+o}for(var a=r,l=i,f=o,d=e(r,i)+e(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=e(r,i)+e(i,o);h>=d&&(d=h,a=r,l=i,f=o)}t[n-1][1]!=a&&(a?t[n-1][1]=a:(t.splice(n-1,1),n--),t[n][1]=l,f?t[n+1][1]=f:(t.splice(n+1,1),n--))}n++}},h=function(t){return t>=55296&&t<=56319},E=function(t){return t>=56320&&t<=57343},v=function(t){return E(t.charCodeAt(0))},p=function(t){return h(t.charCodeAt(t.length-1))},g=function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e},_=function(t,e,n,r){return p(t)||v(r)?null:g([[L,t],[y,e],[m,n],[L,r]])},O=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=t.length,s=e.length;if(0===r.length&&(null===i||0===i.length)){var u=r.index,a=t.slice(0,u),c=t.slice(u),l=i?i.index:null;t:{var f=u+s-o;if(null!==l&&l!==f||f<0||f>s)break t;var d=e.slice(0,f),h=e.slice(f);if(h!==c)break t;var E=Math.min(u,f),v=a.slice(0,E),p=d.slice(0,E);if(v!==p)break t;var g=a.slice(E),O=d.slice(E);return _(v,g,O,c)}e:if(null===l||l===u){var d=e.slice(0,u),h=e.slice(u);if(d!==a)break e;var T=Math.min(o-u,s-u),y=c.slice(c.length-T),m=h.slice(h.length-T);if(y!==m)break e;var g=c.slice(0,c.length-T),O=h.slice(0,h.length-T);return _(a,g,O,y)}}if(r.length>0&&i&&0===i.length)n:{var v=t.slice(0,r.index),y=t.slice(r.index+r.length),E=v.length,T=y.length;if(s<E+T)break n;var p=e.slice(0,E),m=e.slice(s-T);if(v!==p||y!==m)break n;var g=t.slice(E,o-T),O=e.slice(E,s-T);return _(v,g,O,y)}return null},T=function(t,e,n,i){return r(t,e,n,i,!0)},y=-1,m=1,L=0,N=/[^a-zA-Z0-9]/,b=/\s/,S=/[\r\n]/,R=/\n\r?\n$/,I=/^\r?\n\r?\n/;function C(t,e){t.push([L,""]);for(var n,r=0,i=0,o=0,s="",a="";r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case m:o++,a+=t[r][1],r++;break;case y:i++,s+=t[r][1],r++;break;case L:var l=r-o-i-1;if(e){if(l>=0&&p(t[l][1])){var f=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=f+s,a=f+a,!t[l][1]){t.splice(l,1),r--;var d=l-1;t[d]&&t[d][0]===m&&(o++,a=t[d][1]+a,d--),t[d]&&t[d][0]===y&&(i++,s=t[d][1]+s,d--),l=d}}if(v(t[r][1])){var f=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),s+=f,a+=f}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(s.length>0||a.length>0){s.length>0&&a.length>0&&(0!==(n=u(a,s))&&(l>=0?t[l][1]+=a.substring(0,n):(t.splice(0,0,[L,a.substring(0,n)]),r++),a=a.substring(n),s=s.substring(n)),0!==(n=c(a,s))&&(t[r][1]=a.substring(a.length-n)+t[r][1],a=a.substring(0,a.length-n),s=s.substring(0,s.length-n)));var h=o+i;0===s.length&&0===a.length?(t.splice(r-h,h),r-=h):0===s.length?(t.splice(r-h,h,[m,a]),r=r-h+1):0===a.length?(t.splice(r-h,h,[y,s]),r=r-h+1):(t.splice(r-h,h,[y,s],[m,a]),r=r-h+2)}0!==r&&t[r-1][0]===L?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,o=0,i=0,s="",a=""}}""===t[t.length-1][1]&&t.pop();var E=!1;for(r=1;r<t.length-1;)t[r-1][0]===L&&t[r+1][0]===L&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),E=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),E=!0)),r++;E&&C(t,e)}T.INSERT=m,T.DELETE=y,T.EQUAL=L,t.exports=T},33974:function(t,e,n){"use strict";var r=function(t){if(null==t)throw TypeError("Object.assign cannot be called with null or undefined");return Object(t)},i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=!function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(t){return!1}}()?function(t,e){for(var n,u,a=r(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]),n)o.call(n,l)&&(a[l]=n[l]);if(i){u=i(n);for(var f=0;f<u.length;f++)s.call(n,u[f])&&(a[u[f]]=n[u[f]])}}return a}:Object.assign},42975:function(t,e,n){"use strict";var r=function(t,e,n){var r,i={},s=null,l=null;for(r in void 0!==n&&(s=""+n),void 0!==e.key&&(s=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!c.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:s,ref:l,props:i,_owner:u.current}};n("33974");var i=n("2177"),o=60103;if(e.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;o=s("react.element"),e.Fragment=s("react.fragment")}var u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};e.jsx=r,e.jsxs=r},82817:function(t,e,n){"use strict";t.exports=n("42975")},88937:function(t,e,n){},44040:function(t,e,n){},15717:function(t,e,n){},2177:function(t,e,n){t.exports=React},68783:function(t,e,n){t.exports=ReactDOM},93226:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var r=n("29581");function i(t,e,n){return(e=(0,r.default)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},47455:function(t,e,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}n.r(e),n.d(e,{default:function(){return r}})},41069:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var r=n("70039");function i(t,e){if("object"!=(0,r.default)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=(0,r.default)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}},29581:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var r=n("70039"),i=n("41069");function o(t){var e=(0,i.default)(t,"string");return"symbol"==(0,r.default)(e)?e:e+""}},70039:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,{default:function(){return r}})},25855:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.r(e),n.d(e,{_array_like_to_array:function(){return r}})},13630:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.r(e),n.d(e,{_array_with_holes:function(){return r}})},74960:function(t,e,n){"use strict";n.r(e),n.d(e,{_array_without_holes:function(){return i}});var r=n("25855");function i(t){if(Array.isArray(t))return(0,r._array_like_to_array)(t)}},4998:function(t,e,n){"use strict";function r(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.r(e),n.d(e,{_assert_this_initialized:function(){return r},_:function(){return r}})},30787:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}n.r(e),n.d(e,{_:function(){return r}})},37761:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.r(e),n.d(e,{_:function(){return i}})},63973:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return s}});var r=n("51321"),i=n("57088"),o=n("98045");function s(t){var e=(0,i._is_native_reflect_construct)();return function(){var n,i=(0,r._get_prototype_of)(t);if(e){var s=(0,r._get_prototype_of)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,o._possible_constructor_return)(this,n)}}},66125:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{_define_property:function(){return r},_:function(){return r}})},51321:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{_get_prototype_of:function(){return r}})},78396:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return i}});var r=n("13102");function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,r._set_prototype_of)(t,e)}},10373:function(t,e,n){"use strict";function r(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}n.r(e),n.d(e,{_instanceof:function(){return r},_:function(){return r}})},57088:function(t,e,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}n.r(e),n.d(e,{_is_native_reflect_construct:function(){return r}})},72893:function(t,e,n){"use strict";function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.r(e),n.d(e,{_iterable_to_array:function(){return r}})},14400:function(t,e,n){"use strict";function r(t,e){var n,r,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o=[],s=!0,u=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){u=!0,r=t}finally{try{!s&&null!=i.return&&i.return()}finally{if(u)throw r}}return o}}n.r(e),n.d(e,{_iterable_to_array_limit:function(){return r}})},69419:function(t,e,n){"use strict";function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(e),n.d(e,{_non_iterable_rest:function(){return r}})},11413:function(t,e,n){"use strict";function r(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(e),n.d(e,{_non_iterable_spread:function(){return r}})},62912:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return i}});var r=n("66125");function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){(0,r._define_property)(t,e,n[e])})}return t}},29403:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return r}});function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n})(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},98045:function(t,e,n){"use strict";n.r(e),n.d(e,{_possible_constructor_return:function(){return o}});var r=n("4998"),i=n("55210");function o(t,e){return e&&("object"===(0,i._type_of)(e)||"function"==typeof e)?e:(0,r._assert_this_initialized)(t)}},13102:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,{_set_prototype_of:function(){return r}})},93653:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return u}});var r=n("13630"),i=n("14400"),o=n("69419"),s=n("32304");function u(t,e){return(0,r._array_with_holes)(t)||(0,i._iterable_to_array_limit)(t,e)||(0,s._unsupported_iterable_to_array)(t,e)||(0,o._non_iterable_rest)()}},72291:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return u}});var r=n("74960"),i=n("72893"),o=n("11413"),s=n("32304");function u(t){return(0,r._array_without_holes)(t)||(0,i._iterable_to_array)(t)||(0,s._unsupported_iterable_to_array)(t)||(0,o._non_iterable_spread)()}},58739:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return r.__decorate}});var r=n("91008")},5558:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return r.__generator}});var r=n("91008")},94445:function(t,e,n){"use strict";n.r(e),n.d(e,{_:function(){return r.__metadata}});var r=n("91008")},55210:function(t,e,n){"use strict";function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}n.r(e),n.d(e,{_type_of:function(){return r},_:function(){return r}})},32304:function(t,e,n){"use strict";n.r(e),n.d(e,{_unsupported_iterable_to_array:function(){return i}});var r=n("25855");function i(t,e){if(t){if("string"==typeof t)return(0,r._array_like_to_array)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,r._array_like_to_array)(t,e)}}},91008:function(t,e,n){"use strict";n.r(e),n.d(e,{__decorate:function(){return o},__metadata:function(){return s},__generator:function(){return u}});var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(a){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}var a=function(t){return(a=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e})(t)};"function"==typeof SuppressedError&&SuppressedError},52921:function(t,e,n){"use strict";n.r(e),n.d(e,{EditableTextInput:function(){return h}});var r=n("66125"),i=n("93653"),o=n("82817"),s=n("72981"),u=n("41698"),a=n("26374"),c=n("58564"),l=n("2177"),f=n("28993"),d=n("83195"),h=function(t){var e,n=t.onChange,h=void 0===n?a.NOOP:n,E=t.value,v=t.placeholder,p=(0,u.useEditorStatic)().editor,g=(0,u.useReadonly)().readonly,_=(0,i._)((0,l.useState)(!1),2),O=_[0],T=_[1],y=(0,i._)((0,l.useState)(null),2),m=y[0],L=y[1];(0,l.useEffect)(function(){if(m){if((0,a.isDOMText)(m.firstChild)){m.firstChild.nodeValue!==t.value&&(m.firstChild.nodeValue=t.value);for(var e=1,n=m.childNodes.length;e<n;e++){var r=m.childNodes[e];r&&r.remove()}}else m.innerText=t.value}},[t.value,m]);var N=(0,c.useMemoFn)(function(t){if(!(t.isComposing||(0,a.isNil)(m))){var e=m.textContent||"";e!==E&&h(e,t)}}),b=(0,c.useMemoFn)(function(e){!t.value&&e.detail>1&&(0,a.preventNativeEvent)(e)}),S=(0,c.useMemoFn)(function(e){if((0,a.isKeyCode)(e,a.KEY_CODE.ENTER)){(0,a.preventNativeEvent)(e);return}var n=window.getSelection();n&&n.isCollapsed&&((0,a.isKeyCode)(e,a.KEY_CODE.TAB)&&(0,d.onTabKey)(p,n,e),!g&&(0,a.isKeyCode)(e,a.KEY_CODE.LEFT)&&(0,d.onLeftArrowKey)(n,e),!g&&(0,a.isKeyCode)(e,a.KEY_CODE.RIGHT)&&(0,d.onRightArrowKey)(t.value,n,e))}),R=(0,c.useMemoFn)(function(){T(!0)}),I=(0,c.useMemoFn)(function(t){T(!1),N(t)}),C=(0,c.useMemoFn)(function(t){(0,a.preventNativeEvent)(t);var e=t.clipboardData;if(e){var n=e.getData(a.TEXT_PLAIN)||"";document.execCommand("insertText",!1,n.replace(/\n/g," "))}}),A=(0,l.useRef)(t.onBeforeInput);(0,l.useEffect)(function(){if(m){var t=A.current,e=s.EDITOR_EVENT.INPUT,n=s.EDITOR_EVENT.COMPOSITION_END,r=s.EDITOR_EVENT.PASTE,i=s.EDITOR_EVENT.KEY_DOWN,o=s.EDITOR_EVENT.MOUSE_DOWN,u=s.EDITOR_EVENT.COMPOSITION_START,a=s.EDITOR_EVENT.BEFORE_INPUT;return m.addEventListener(e,N),m.addEventListener(r,C),m.addEventListener(i,S),m.addEventListener(o,b),m.addEventListener(u,R),m.addEventListener(n,I),t&&m.addEventListener(a,t),function(){m.removeEventListener(e,N),m.removeEventListener(r,C),m.removeEventListener(i,S),m.removeEventListener(o,b),m.removeEventListener(u,R),m.removeEventListener(n,I),t&&m.removeEventListener(a,t)}}},[N,S,b,m,C,R,I]);var D=!E&&v&&!O;return(0,o.jsx)(u.Isolate,{className:t.className,style:t.style,children:(0,o.jsx)("div",(e={},(0,r._)(e,f.DATA_EDITABLE_KEY,!0),(0,r._)(e,"className","block-kit-editable-text"),(0,r._)(e,"ref",function(e){t.onRef&&t.onRef(e),e&&L(e)}),(0,r._)(e,"data-vars-placeholder",D?v:void 0),(0,r._)(e,"onKeyDown",t.onKeydown),(0,r._)(e,"contentEditable",!0),(0,r._)(e,"suppressContentEditableWarning",!0),e))})}},39660:function(t,e,n){"use strict";n.r(e),n.d(e,{SelectorInput:function(){return f}});var r=n("93653"),i=n("82817"),o=n("72981"),s=n("41698"),u=n("26374"),a=n("2177"),c=n("28993"),l=function(t){return(0,i.jsx)("div",{className:(0,u.cs)("editable-selector-options",t.className),style:{left:t.left,top:t.top,width:t.width},onMouseDown:u.preventNativeEvent,children:t.options.map(function(e,n){return(0,i.jsx)("div",{className:(0,u.cs)(e===t.value&&"editable-selector-option-selected"),onClick:function(n){(0,u.preventNativeEvent)(n),t.onChange(e)},children:e},n)})})},f=function(t){var e=(0,s.useEditorStatic)().editor,n=(0,r._)((0,a.useState)(!1),2),f=n[0],d=n[1];return(0,i.jsxs)("span",{className:"editable-selector",onMouseDownCapture:s.preventReactEvent,onClick:function(n){if(f)(0,s.MountNode).unmount(e,c.SEL_KEY);else{var r=n.target.closest("[".concat(o.VOID_KEY,"]"));if(!r)return;var u=r.getBoundingClientRect(),a=(0,i.jsx)(l,{value:t.value,width:t.optionsWidth,left:u.left+u.width/2-t.optionsWidth/2,top:u.top+u.height,options:t.options,onChange:function(n){t.onChange&&t.onChange(n),(0,s.MountNode).unmount(e,c.SEL_KEY),d(!1)}});(0,s.MountNode).mount(e,c.SEL_KEY,a);var h=function(){d(!1),(0,s.MountNode).unmount(e,c.SEL_KEY),document.removeEventListener(o.EDITOR_EVENT.MOUSE_DOWN,h)};document.addEventListener(o.EDITOR_EVENT.MOUSE_DOWN,h)}d(!f)},children:[t.value,(0,i.jsx)("svg",{className:(0,u.cs)("editable-selector-triangle",f&&"editable-selector-triangle-open"),viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor",children:(0,i.jsx)("path",{d:"M793.002667 341.333333H230.997333a42.666667 42.666667 0 0 0-30.165333 72.832l281.002667 281.002667a42.666667 42.666667 0 0 0 60.330666 0l281.002667-281.002667A42.752 42.752 0 0 0 793.002667 341.333333z"})})]})}},72108:function(t,e,n){"use strict";n.r(e),n.d(e,{EditableInputPlugin:function(){return p}});var r=n("30787"),i=n("66125"),o=n("78396"),s=n("63973"),u=n("58739"),a=n("94445"),c=n("82817"),l=n("72981"),f=n("53746"),d=n("41698"),h=n("26374"),E=n("52921"),v=n("28993"),p=function(t){(0,o._)(n,t);var e=(0,s._)(n);function n(t){var i;return(0,r._)(this,n),(i=e.call(this)).key=v.VARS_KEY,i.options=t||{},i.editor.event.on(l.EDITOR_EVENT.KEY_DOWN,i.onKeyDown,10),i}var u=n.prototype;return u.destroy=function(){this.editor.event.off(l.EDITOR_EVENT.KEY_DOWN,this.onKeyDown)},u.match=function(t){return!!t[v.VARS_KEY]},u.onKeyDown=function(t,e){var n=this.editor.selection.get(),r=window.getSelection();if(!!n&&!!n.isCollapsed&&!!r){if((0,l.isArrowRight)(t)||(0,l.isArrowLeft)(t)){var i=this.editor.lookup.getLeafAtPoint(n.start),o=i&&i.next();if((0,l.isArrowRight)(t)&&o&&o.embed&&i&&n.start.offset===i.offset+i.length&&o.op.attributes&&o.op.attributes[v.VARS_KEY]){var s=this.editor.model.getLeafNode(o),u=s&&s.querySelector("[".concat(v.DATA_EDITABLE_KEY,"]"));if(!u)return;var a=(0,h.isDOMText)(u.firstChild)?u.firstChild:u;r.setBaseAndExtent(a,0,a,0),e.stop(),t.preventDefault()}if((0,l.isArrowLeft)(t)&&i&&i.embed&&i&&n.start.offset===i.offset+i.length&&i.op.attributes&&i.op.attributes[v.VARS_KEY]){var c=this.editor.model.getLeafNode(i),f=c&&c.querySelector("[".concat(v.DATA_EDITABLE_KEY,"]"));if(!f)return;var d=(0,h.isDOMText)(f.firstChild)?f.firstChild:f,E=(0,h.isDOMText)(f.firstChild)?f.firstChild.length:0;r.setBaseAndExtent(d,E,d,E),e.stop(),t.preventDefault()}}}},u.onTextChange=function(t,e,n){var r=t.toRawRange();if(r){var o=new(0,f.Delta)().retain(r.start).retain(r.len,(0,i._)({},v.VARS_VALUE_KEY,e));this.editor.state.apply(o,{autoCaret:!1,undoable:"historyUndo"!==n.inputType&&"historyRedo"!==n.inputType})}},u.renderLeaf=function(t){var e=this,n=t.attributes,r=void 0===n?{}:n,i=r[v.VARS_KEY],o=this.options.placeholders||{};return(0,c.jsx)(d.Embed,{context:t,children:(0,c.jsx)(E.EditableTextInput,{className:(0,h.cs)(v.VARS_CLS_PREFIX,"".concat(v.VARS_CLS_PREFIX,"-").concat(i)),value:r[v.VARS_VALUE_KEY]||"",placeholder:o[i],onChange:function(n,r){return e.onTextChange(t.leafState,n,r)}})})},n}(d.EditorPlugin);(0,u._)([h.Bind,(0,a._)("design:type",Function),(0,a._)("design:paramtypes",["undefined"==typeof KeyboardEvent?Object:KeyboardEvent,"undefined"==typeof EventContext?Object:EventContext])],p.prototype,"onKeyDown",null)},25636:function(t,e,n){"use strict";n.r(e),n.d(e,{SelectorInputPlugin:function(){return d}});var r=n("30787"),i=n("66125"),o=n("78396"),s=n("63973"),u=n("82817"),a=n("53746"),c=n("41698"),l=n("39660"),f=n("28993"),d=function(t){(0,o._)(n,t);var e=(0,s._)(n);function n(t){var i;return(0,r._)(this,n),(i=e.call(this)).key=f.SEL_KEY,i.options=t||{},i}var d=n.prototype;return d.destroy=function(){},d.match=function(t){return!!t[f.SEL_KEY]},d.onValueChange=function(t,e){var n=t.toRawRange();if(n){var r=new(0,a.Delta)().retain(n.start).retain(n.len,(0,i._)({},f.SEL_VALUE_KEY,e));this.editor.state.apply(r,{autoCaret:!1})}},d.renderLeaf=function(t){var e=this,n=t.attributes,r=void 0===n?{}:n,i=r[f.SEL_KEY],o=r[f.SEL_VALUE_KEY]||"",s=this.options.selector||{};return(0,u.jsx)(c.Embed,{context:t,children:(0,u.jsx)(l.SelectorInput,{value:o,optionsWidth:this.options.optionsWidth||f.SEL_OPTIONS_WIDTH,onChange:function(n){return e.onValueChange(t.leafState,n)},options:s[i]||[o]})})},n}(c.EditorPlugin)},48240:function(t,e,n){"use strict";n.r(e);var r=n("51652"),i=n("49303"),o=n("82817");n("15717"),n("44040"),n("88937");var s=n("26374"),u=n("3603"),a=n("2177"),c=n("68783"),l=n.n(c),f=n("97685");l.render((0,o.jsx)(function(){var t=(0,a.useMemo)(function(){var t=new u.Editor({schema:f.SCHEMA,delta:f.DELTA,logLevel:u.LOG_LEVEL.DEBUG});return t.plugin.register([new u.EditableInputPlugin({placeholders:f.PLACEHOLDERS}),new u.SelectorInputPlugin({selector:f.SELECTOR})]),t},[]);return(0,a.useEffect)(function(){window.editor=t,window.Delta=u.Delta},[t]),(0,o.jsxs)("div",{className:"vars-input-container-wrapper",children:[(0,o.jsx)("div",{className:"vars-input-title",children:"变量模板输入框"}),(0,o.jsxs)("div",{className:"vars-input-container",children:[(0,o.jsx)(u.BlockKit,{editor:t,readonly:!1,children:(0,o.jsx)(u.Editable,{className:"block-kit-editable",placeholder:"描述你要创作的内容..."})}),(0,o.jsx)("div",{className:"vars-input-footer",onMouseDown:s.preventNativeEvent,onClick:function(){console.log("Message:",t.state.block.toDelta().ops)},children:(0,o.jsx)("div",{className:"vars-input-send",children:(0,o.jsx)(i.default,{})})})]}),(0,o.jsx)("a",{className:(0,s.cs)("github-link"),href:"https://github.com/WindRunnerMax/BlockKit/tree/master/examples/variable",target:"_blank",children:(0,o.jsx)(r.default,{})})]})},{}),document.getElementById("root"))},80465:function(t,e,n){"use strict";n.r(e),n.d(e,{BlockKitContext:function(){return o},useEditorStatic:function(){return s}});var r=n("2177"),i=n.n(r),o=(0,r.createContext)(null);o.displayName="BlockKit";var s=function(){var t=i.useContext(o);if(!t)throw Error("UseEditor must be used within a EditorContext");return{editor:t}}},61286:function(t,e,n){"use strict";n.r(e),n.d(e,{ReadonlyContext:function(){return o},useReadonly:function(){return s}});var r=n("2177"),i=n.n(r),o=(0,r.createContext)(!1);o.displayName="Readonly";var s=function(){return{readonly:i.useContext(o)}}},56159:function(t,e,n){"use strict";n.r(e),n.d(e,{BlockModel:function(){return v}});var r=n("66125"),i=n("93653"),o=n("82817"),s=n("72981"),u=n("58564"),a=n("2177"),c=n.n(a),l=n("52522"),f=n("21723"),d=n("6288"),h=n("94639"),E=n("84142"),v=c.memo(function(t){var e,n,c=t.editor,v=t.state,p=(0,a.useRef)(!1),g=(0,l.useComposing)(c).isComposing,_=(0,i._)((0,a.useState)(function(){return v.getLines()}),2),O=_[0],T=_[1],y=(0,u.useMemoFn)(function(t){t&&(c.model.setBlockModel(t,v),(0,d.rewriteRemoveChild)(t))}),m=(0,u.useMemoFn)(function(){!p.current&&(p.current=!0,Promise.resolve().then(function(){p.current=!1,T(v.getLines()),c.state.set(s.EDITOR_STATE.PAINTING,!0)}))});(0,a.useLayoutEffect)(function(){return c.event.on(s.EDITOR_EVENT.CONTENT_CHANGE,m),function(){c.event.off(s.EDITOR_EVENT.CONTENT_CHANGE,m)}},[c.event,m]),(0,a.useLayoutEffect)(function(){var t=c.selection.get();c.state.isFocused()&&t&&(c.logger.debug("UpdateDOMSelection"),c.selection.updateDOMSelection(!0))}),(0,a.useEffect)(function(){c.logger.debug("OnPaint"),c.state.set(s.EDITOR_STATE.PAINTING,!1),Promise.resolve().then(function(){c.event.trigger(s.EDITOR_EVENT.PAINT,{})})});var L=(0,a.useMemo)(function(){return O.map(function(t,e){var n=(0,o.jsx)(E.LineModel,{editor:c,lineState:t,index:e},t.key);return(0,h.JSX_TO_STATE).set(n,t),n})},[c,O]),N=(0,a.useMemo)(function(){return(0,f.withWrapLineNodes)(c,L)},[c,L]);return(0,o.jsxs)("div",(n={},(0,r._)(n,s.BLOCK_KEY,!0),(0,r._)(n,s.BLOCK_ID_KEY,v.key),(0,r._)(n,"ref",y),(0,r._)(n,"children",[t.placeholder&&!g&&1===O.length&&(0,s.isEmptyLine)(O[0],!0)&&(0,o.jsx)("div",(e={},(0,r._)(e,s.PLACEHOLDER_KEY,!0),(0,r._)(e,"style",{position:"absolute",opacity:"0.3",userSelect:"none",pointerEvents:"none"}),(0,r._)(e,"children",t.placeholder),e)),N]),n))})},35342:function(t,e,n){"use strict";n.r(e),n.d(e,{EOLModel:function(){return l}});var r=n("66125"),i=n("82817"),o=n("72981"),s=n("2177"),u=n.n(s),a=n("67484"),c=n("94639"),l=u.memo(function(t){var e,n=t.editor,s=t.leafState;return(0,i.jsx)("span",(e={},(0,r._)(e,o.LEAF_KEY,!0),(0,r._)(e,"ref",function(t){t&&n.model.setLeafModel(t,s)}),(0,r._)(e,"children",(0,i.jsx)(a.ZeroSpace,{enter:!0,onRef:function(t){return t&&(0,c.LEAF_TO_ZERO_TEXT).set(s,t)}})),e))})},22993:function(t,e,n){"use strict";n.r(e),n.d(e,{LeafModel:function(){return d}});var r=n("66125"),i=n("82817"),o=n("72981"),s=n("58564"),u=n("2177"),a=n.n(u),c=n("12317"),l=n("6288"),f=n("94639"),d=a.memo(function(t){var e,n=t.editor,a=t.leafState,d=(0,s.useForceUpdate)(),h=d.forceUpdate,E=d.index,v=(0,s.useMemoFn)(function(t){t&&((0,l.rewriteRemoveChild)(t),n.model.setLeafModel(t,a)),(0,f.LEAF_TO_REMOUNT).set(a,h)}),p=(0,u.useMemo)(function(){var t=a.getText(),e={op:a.op,classList:[],lineState:a.parent,leafState:a,attributes:a.op.attributes,style:{},children:(0,i.jsx)(c.Text,{onRef:function(t){return t&&(0,f.LEAF_TO_TEXT).set(a,t)},children:t})},r=n.plugin.getPriorityPlugins(o.PLUGIN_FUNC.RENDER_LEAF),s=!0,u=!1,l=void 0;try{for(var d,h=r[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var E=d.value;E.match(e.attributes||{},e.op)&&(e.children=E.renderLeaf(e))}}catch(t){u=!0,l=t}finally{try{!s&&null!=h.return&&h.return()}finally{if(u)throw l}}return e},[n.plugin,a]);return(0,i.jsx)("span",(e={},(0,r._)(e,o.LEAF_KEY,!0),(0,r._)(e,"ref",v),(0,r._)(e,"className",p.classList.join(" ")),(0,r._)(e,"style",p.style),(0,r._)(e,"children",p.children),e),E)})},84142:function(t,e,n){"use strict";n.r(e),n.d(e,{LineModel:function(){return _}});var r=n("66125"),i=n("62912"),o=n("29403"),s=n("82817"),u=n("72981"),a=n("53746"),c=n("26374"),l=n("58564"),f=n("2177"),d=n.n(f),h=n("21723"),E=n("6288"),v=n("94639"),p=n("35342"),g=n("22993"),_=d.memo(function(t){var e,n=t.editor,d=t.lineState,_=(0,l.useMemoFn)(function(t){t&&(n.model.setLineModel(t,d),(0,E.rewriteRemoveChild)(t))});(0,l.useUpdateLayoutEffect)(function(){var t=d.getLeaves(),e=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var a=o.value;(0,E.updateDirtyText)(a),(0,E.updateDirtyLeaf)(n,a)}}catch(t){r=!0,i=t}finally{try{!e&&null!=s.return&&s.return()}finally{if(r)throw i}}n.plugin.call(u.CALLER_TYPE.WILL_PAINT_LINE_STATE,d)},[d]),(0,l.useUpdateEffect)(function(){n.plugin.call(u.CALLER_TYPE.DID_PAINT_LINE_STATE,d)},[d]);var O=(0,f.useMemo)(function(){var t=d.getLeaves(),e=t.slice(0,-1),r=e.map(function(t,e){var r=(0,s.jsx)(g.LeafModel,{editor:n,index:e,leafState:t},t.key);return(0,v.JSX_TO_STATE).set(r,t),r});if(!r.length&&t[0]){var i=t[0],o=(0,s.jsx)(p.EOLModel,{editor:n,leafState:i},a.EOL);return(0,v.JSX_TO_STATE).set(o,i)&&r.push(o),r}var u=t[t.length-1],c=e[e.length-1];if(c&&u&&c.embed){var l=(0,s.jsx)(p.EOLModel,{editor:n,leafState:u},a.EOL);(0,v.JSX_TO_STATE).set(l,u)&&r.push(l)}return r},[n,d]),T=(0,f.useMemo)(function(){return(0,h.withWrapLeafNodes)(n,O)},[n,O]),y=(0,f.useMemo)(function(){var t={classList:[],lineState:d,attributes:d.attributes,style:{},children:T},e=n.plugin.getPriorityPlugins(u.PLUGIN_FUNC.RENDER_LINE),r=!0,s=!1,c=void 0;try{for(var l,f=e[Symbol.iterator]();!(r=(l=f.next()).done);r=!0){var h=l.value,E=(0,o._)((0,i._)({},a.EOL_OP),{attributes:t.attributes});h.match(t.attributes,E)&&(t.children=h.renderLine(t))}}catch(t){s=!0,c=t}finally{try{!r&&null!=f.return&&f.return()}finally{if(s)throw c}}return t},[T,n.plugin,d]);return(0,s.jsx)("div",(e={},(0,r._)(e,u.NODE_KEY,!0),(0,r._)(e,"ref",_),(0,r._)(e,"dir","auto"),(0,r._)(e,"className",(0,c.cs)(y.classList)),(0,r._)(e,"style",y.style),(0,r._)(e,"children",y.children),e))})},8836:function(t,e,n){"use strict";n.r(e),n.d(e,{PortalModel:function(){return a}});var r=n("93653"),i=n("82817"),o=n("2177"),s=n.n(o),u=n("412"),a=s.memo(function(t){var e=(0,r._)((0,o.useState)({}),2),n=e[0],s=e[1];return(0,u.EDITOR_TO_PORTAL).set(t.editor,s),(0,i.jsx)(o.Fragment,{children:Object.entries(n).map(function(t){var e=(0,r._)(t,2),n=e[0],s=e[1];return(0,i.jsx)(o.Fragment,{children:s},n)})})})},21723:function(t,e,n){"use strict";n.r(e),n.d(e,{InjectWrapKeys:function(){return p},initWrapPlugins:function(){return O},withWrapLineNodes:function(){return T},withWrapLeafNodes:function(){return y}});var r=n("72291"),i=n("82817"),o=n("2177"),s=n.n(o),u=n("94639"),a=n("19534"),c=n("78004"),l="Keys",f=new WeakMap,d=new WeakMap,h=new WeakMap,E=new WeakMap,v=new WeakMap;function p(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,r){var i="".concat(n).concat(l);return t[i]=e,r}}var g=function(t,e){var n="".concat(t).concat(l);return e[n]},_=function(t,e){if(!e)return null;var n=(0,u.JSX_TO_STATE).get(e),r=n&&v.get(n);if(r||!n)return r||null;var i=n.op.attributes;if(!i||!Object.keys(i).length||!t.length)return null;var o=[],s=!0,a=!1,c=void 0;try{for(var l,f=t[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;i[d]&&o.push("".concat(d).concat(i[d]))}}catch(t){a=!0,c=t}finally{try{!s&&null!=f.return&&f.return()}finally{if(a)throw c}}var h=o.join("");return v.set(n,h),h},O=function(t){var e=t.plugin.current,n=[],i=[],o=[],s=[],u=!0,l=!1,v=void 0;try{for(var p,_=e[Symbol.iterator]();!(u=(p=_.next()).done);u=!0){var O=p.value,T=g(a.WRAP_TYPE.LINE,O);T&&n.push.apply(n,(0,r._)(T));var y=g(a.WRAP_TYPE.LEAF,O);y&&i.push.apply(i,(0,r._)(y)),O.wrapLine&&o.push(O),O.wrapLeaf&&s.push(O)}}catch(t){l=!0,v=t}finally{try{!u&&null!=_.return&&_.return()}finally{if(l)throw v}}o.sort(function(t,e){return(0,c.getPluginPriority)(a.WRAP_TYPE.LINE,t)-(0,c.getPluginPriority)(a.WRAP_TYPE.LINE,e)}),s.sort(function(t,e){return(0,c.getPluginPriority)(a.WRAP_TYPE.LEAF,t)-(0,c.getPluginPriority)(a.WRAP_TYPE.LEAF,e)}),n.length&&f.set(t,n),i.length&&d.set(t,i),o.length&&h.set(t,o),s.length&&E.set(t,s)},T=function(t,e){var n=[],r=f.get(t),o=h.get(t);if(!r||!o)return e;for(var a=e.length,c=0;c<a;++c){var l=e[c],d=_(r,l),E=(0,u.JSX_TO_STATE).get(l);if(!l||!E||!d){n.push(l);continue}for(var v=[l],p=c+1;p<a;++p){var g=e[p],O=_(r,g);if(!g||!O||O!==d){c=p-1;break}v.push(g),c=p}var T=v,y=E.op,m=!0,L=!1,N=void 0;try{for(var b,S=o[Symbol.iterator]();!(m=(b=S.next()).done);m=!0){var R=b.value,I={lineState:E,children:T};R.match(E.op.attributes||{},y)&&R.wrapLine&&(T=R.wrapLine(I))}}catch(t){L=!0,N=t}finally{try{!m&&null!=S.return&&S.return()}finally{if(L)throw N}}var C="".concat(c-v.length+1,"-").concat(c);n.push((0,i.jsx)(s.Fragment,{children:T},C))}return n},y=function(t,e){var n=[],r=d.get(t),o=E.get(t);if(!r||!o)return e;for(var a=e.length,c=0;c<a;++c){var l=e[c],f=_(r,l),h=(0,u.JSX_TO_STATE).get(l);if(!l||!h||!f){n.push(l);continue}for(var v=[l],p=c+1;p<a;++p){var g=e[p],O=_(r,g);if(!g||!O||O!==f){c=p-1;break}v.push(g),c=p}var T=v,y=h.op,m=!0,L=!1,N=void 0;try{for(var b,S=o[Symbol.iterator]();!(m=(b=S.next()).done);m=!0){var R=b.value,I={leafState:h,children:T};R.match(h.op.attributes||{},y)&&R.wrapLeaf&&(T=R.wrapLeaf(I))}}catch(t){L=!0,N=t}finally{try{!m&&null!=S.return&&S.return()}finally{if(L)throw N}}var C="".concat(c-v.length+1,"-").concat(c);n.push((0,i.jsx)(s.Fragment,{children:T},C))}return n}},56422:function(t,e,n){"use strict";n.r(e),n.d(e,{BlockKit:function(){return l}});var r=n("82817"),i=n("72981"),o=n("2177"),s=n("80465"),u=n("61286"),a=n("8836"),c=n("21723"),l=function(t){var e=t.editor,n=t.readonly,l=t.children;return e.state.get(i.EDITOR_STATE.READONLY)!==n&&e.state.set(i.EDITOR_STATE.READONLY,n||!1),(0,o.useMemo)(function(){(0,c.initWrapPlugins)(e)},[e]),(0,r.jsx)(s.BlockKitContext.Provider,{value:e,children:(0,r.jsxs)(u.ReadonlyContext.Provider,{value:!!n,children:[(0,r.jsx)(a.PortalModel,{editor:e}),l]})})}},45983:function(t,e,n){"use strict";n.r(e),n.d(e,{Editable:function(){return f}});var r=n("66125"),i=n("82817"),o=n("72981"),s=n("26374"),u=n("2177"),a=n("80465"),c=n("61286"),l=n("56159"),f=function(t){var e,n=t.className,f=t.autoFocus,d=t.preventDestroy,h=(0,a.useEditorStatic)().editor,E=(0,c.useReadonly)().readonly,v=(0,u.useRef)(null);return(0,u.useLayoutEffect)(function(){var t=v.current;return t&&h.mount(t),function(){h.unmount(),d||h.destroy()}},[h,d]),(0,u.useEffect)(function(){if(f){var t=new o.Point(0,0);h.selection.set(new o.Range(t,t),!0),h.selection.focus()}},[f,h.selection]),(0,i.jsx)("div",(e={ref:v,className:(0,s.cs)(n,"notranslate")},(0,r._)(e,o.EDITOR_KEY,!0),(0,r._)(e,"contentEditable",!E),(0,r._)(e,"suppressContentEditableWarning",!0),(0,r._)(e,"spellCheck",!1),(0,r._)(e,"style",{outline:"none",position:"relative",whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"break-word"}),(0,r._)(e,"children",(0,i.jsx)(l.BlockModel,{editor:h,state:h.state.block,placeholder:t.placeholder})),e))}},80785:function(t,e,n){"use strict";n.r(e),n.d(e,{Embed:function(){return d}});var r=n("66125"),i=n("62912"),o=n("82817"),s=n("72981"),u=n("2177"),a=n.n(u),c=n("80465"),l=n("94639"),f=n("67484"),d=function(t){var e,n=t.context,u=(0,c.useEditorStatic)().editor,d=n.leafState;return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(f.ZeroSpace,{embed:!0,len:d.length>1?d.length:void 0,onRef:function(t){return t&&(0,l.LEAF_TO_ZERO_TEXT).set(d,t)}}),(0,o.jsx)("span",(e={className:t.className,style:(0,i._)({margin:"0 0.1px"},t.style),contentEditable:!1},(0,r._)(e,s.VOID_KEY,!0),(0,r._)(e,"onMouseDown",function(e){var n=new s.Point(d.parent.index,d.offset+1),r=new s.Range(n,n.clone());u.selection.set(r,!0),t.onMousedown&&t.onMousedown(e)}),(0,r._)(e,"children",t.children),e))]})}},32638:function(t,e,n){"use strict";n.r(e),n.d(e,{Isolate:function(){return c}});var r=n("66125"),i=n("93653"),o=n("82817"),s=n("72981"),u=n("26374"),a=n("2177"),c=function(t){var e,n=(0,i._)((0,a.useState)(null),2),c=n[0],l=n[1];return(0,a.useEffect)(function(){if(c){var t=s.EDITOR_EVENT.BEFORE_INPUT,e=s.EDITOR_EVENT.MOUSE_DOWN,n=s.EDITOR_EVENT.COPY,r=s.EDITOR_EVENT.KEY_DOWN,i=s.EDITOR_EVENT.PASTE,o=s.EDITOR_EVENT.CUT,a=s.EDITOR_EVENT.INPUT,l=s.EDITOR_EVENT.FOCUS,f=s.EDITOR_EVENT.BLUR,d=s.EDITOR_EVENT.FOCUSIN,h=s.EDITOR_EVENT.FOCUSOUT,E=s.EDITOR_EVENT.CLICK,v=s.EDITOR_EVENT.COMPOSITION_END,p=s.EDITOR_EVENT.COMPOSITION_START,g=s.EDITOR_EVENT.COMPOSITION_UPDATE;return c.addEventListener(E,u.stopNativeEvent),c.addEventListener(e,u.stopNativeEvent),c.addEventListener(o,u.stopNativeEvent),c.addEventListener(n,u.stopNativeEvent),c.addEventListener(i,u.stopNativeEvent),c.addEventListener(l,u.stopNativeEvent),c.addEventListener(f,u.stopNativeEvent),c.addEventListener(d,u.stopNativeEvent),c.addEventListener(h,u.stopNativeEvent),c.addEventListener(r,u.stopNativeEvent),c.addEventListener(a,u.stopNativeEvent),c.addEventListener(t,u.stopNativeEvent),c.addEventListener(p,u.stopNativeEvent),c.addEventListener(g,u.stopNativeEvent),c.addEventListener(v,u.stopNativeEvent),function(){c.removeEventListener(E,u.stopNativeEvent),c.removeEventListener(e,u.stopNativeEvent),c.removeEventListener(o,u.stopNativeEvent),c.removeEventListener(n,u.stopNativeEvent),c.removeEventListener(i,u.stopNativeEvent),c.removeEventListener(l,u.stopNativeEvent),c.removeEventListener(f,u.stopNativeEvent),c.removeEventListener(d,u.stopNativeEvent),c.removeEventListener(h,u.stopNativeEvent),c.removeEventListener(r,u.stopNativeEvent),c.removeEventListener(a,u.stopNativeEvent),c.removeEventListener(t,u.stopNativeEvent),c.removeEventListener(p,u.stopNativeEvent),c.removeEventListener(g,u.stopNativeEvent),c.removeEventListener(v,u.stopNativeEvent)}}},[c]),(0,o.jsx)("span",(e={ref:l},(0,r._)(e,s.ISOLATED_KEY,!0),(0,r._)(e,"className",t.className),(0,r._)(e,"style",t.style),(0,r._)(e,"contentEditable",!1),(0,r._)(e,"children",t.children),e))}},12317:function(t,e,n){"use strict";n.r(e),n.d(e,{Text:function(){return u}});var r=n("66125"),i=n("82817"),o=n("72981"),s=n("58564"),u=function(t){var e,n=(0,s.useMemoFn)(function(e){t.onRef&&t.onRef(e)});return(0,i.jsx)("span",(e={ref:n},(0,r._)(e,o.LEAF_STRING,!0),(0,r._)(e,"children",t.children),e))}},20135:function(t,e,n){"use strict";n.r(e),n.d(e,{Void:function(){return d}});var r=n("66125"),i=n("62912"),o=n("82817"),s=n("72981"),u=n("2177"),a=n.n(u),c=n("80465"),l=n("94639"),f=n("67484"),d=function(t){var e,n=t.context,u=t.tag,d=void 0===u?"span":u,h=(0,c.useEditorStatic)().editor,E=n.leafState;return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(f.ZeroSpace,{void:!0,hide:!0,len:E.length>1?E.length:void 0,onRef:function(t){return t&&(0,l.LEAF_TO_ZERO_TEXT).set(E,t)}}),(0,o.jsx)(d,(e={className:t.className,style:(0,i._)({userSelect:"none"},t.style),contentEditable:!1},(0,r._)(e,s.VOID_KEY,!0),(0,r._)(e,"onMouseDown",function(t){var e=new s.Point(E.parent.index,E.offset+1),n=new s.Range(e,e.clone());h.selection.set(n,!0),t.preventDefault()}),(0,r._)(e,"children",t.children),e))]})}},67484:function(t,e,n){"use strict";n.r(e),n.d(e,{ZeroSpace:function(){return a}});var r=n("66125"),i=n("82817"),o=n("72981"),s=n("58564"),u=n("10258"),a=function(t){var e,n=(0,s.useMemoFn)(function(e){t.onRef&&t.onRef(e)});return(0,i.jsx)("span",(e={ref:n},(0,r._)(e,o.ZERO_SPACE_KEY,!0),(0,r._)(e,o.ZERO_VOID_KEY,t.void),(0,r._)(e,o.ZERO_ENTER_KEY,t.enter),(0,r._)(e,o.ZERO_EMBED_KEY,t.embed),(0,r._)(e,o.VOID_LEN_KEY,t.len),(0,r._)(e,"style",t.hide?u.NO_CURSOR:void 0),(0,r._)(e,"children",o.ZERO_SYMBOL),e))}},3603:function(t,e,n){"use strict";n.r(e),n.d(e,{EditableInputPlugin:function(){return r.EditableInputPlugin}}),n.d(e,{SelectorInputPlugin:function(){return i.SelectorInputPlugin}}),n.d(e,{SEL_KEY:function(){return o.SEL_KEY},SEL_VALUE_KEY:function(){return o.SEL_VALUE_KEY},VARS_KEY:function(){return o.VARS_KEY},VARS_VALUE_KEY:function(){return o.VARS_VALUE_KEY}}),n.d(e,{Editor:function(){return s.Editor},LOG_LEVEL:function(){return s.LOG_LEVEL}}),n.d(e,{Delta:function(){return u.Delta}}),n.d(e,{BlockKit:function(){return a.BlockKit},Editable:function(){return a.Editable}});var r=n("72108"),i=n("25636"),o=n("28993"),s=n("72981"),u=n("53746"),a=n("41698")},28993:function(t,e,n){"use strict";n.r(e),n.d(e,{VARS_KEY:function(){return r},VARS_VALUE_KEY:function(){return i},VARS_CLS_PREFIX:function(){return o},DATA_EDITABLE_KEY:function(){return s},SEL_KEY:function(){return u},SEL_VALUE_KEY:function(){return a},SEL_OPTIONS_WIDTH:function(){return c}});var r="var-key",i="var-value",o="editable-vars",s="data-editable",u="sel-key",a="sel-value",c=100},83195:function(t,e,n){"use strict";n.r(e),n.d(e,{onLeftArrowKey:function(){return s},onRightArrowKey:function(){return u},onTabKey:function(){return a}});var r=n("72981"),i=n("26374"),o=n("28993"),s=function(t,e){var n;if(0===t.anchorOffset&&t.anchorNode&&t.anchorNode.parentElement&&(n=t.anchorNode.parentElement.closest("[".concat(r.LEAF_KEY,"]")))){var o=n.previousSibling;if(!(0,i.isDOMElement)(o)||!o.hasAttribute(r.LEAF_KEY))return;var s="span[".concat(r.LEAF_STRING,"], span[").concat(r.ZERO_SPACE_KEY,"]"),u=o.querySelector(s);if(!u||!(0,i.isDOMText)(u.firstChild))return;var a=u.firstChild;t.setBaseAndExtent(a,a.length,a,a.length),(0,i.preventNativeEvent)(e)}},u=function(t,e,n){var o;if(e.anchorOffset===t.length&&e.anchorNode&&e.anchorNode.parentElement&&(o=e.anchorNode.parentElement.closest("[".concat(r.LEAF_KEY,"]")))){var s=o.nextSibling;if(!(0,i.isDOMElement)(s)||!s.hasAttribute(r.LEAF_KEY))return;var u="span[".concat(r.LEAF_STRING,"], span[").concat(r.ZERO_SPACE_KEY,"]"),a=s.querySelector(u);if(!a||!(0,i.isDOMText)(a.firstChild))return;var c=a.firstChild;e.setBaseAndExtent(c,0,c,0),(0,i.preventNativeEvent)(n)}},a=function(t,e,n){if((0,i.preventNativeEvent)(n),e.anchorNode&&e.anchorNode.parentElement&&(u=e.anchorNode.parentElement.closest("[".concat(r.LEAF_KEY,"]")))&&(s=t.model.getLeafState(u))){for(s=s.next(!0);s;){var s,u,a=s.op.attributes;if(s.embed&&a&&a[o.VARS_KEY])break;s=s.next(!0)}if(!s){var c=t.state.block.getLine(0);for(s=c&&c.getFirstLeaf();s;){var l=s.op.attributes;if(s.embed&&l&&l[o.VARS_KEY])break;s=s.next(!0)}}var f=t.model.getLeafNode(s);if(s&&f){var d=f&&f.querySelector("[".concat(o.DATA_EDITABLE_KEY,"]"));if(!d)return;var h=(0,i.isDOMText)(d.firstChild)?d.firstChild:d;e.setBaseAndExtent(h,0,h,0)}}}},97685:function(t,e,n){"use strict";n.r(e),n.d(e,{SCHEMA:function(){return a},PLACEHOLDERS:function(){return c},SELECTOR:function(){return l},DELTA:function(){return f}});var r,i,o,s=n("66125"),u=n("3603"),a=(r={},(0,s._)(r,u.VARS_KEY,{void:!0,inline:!0}),(0,s._)(r,u.SEL_KEY,{void:!0,inline:!0}),r),c={role:"[职业]",theme:"[主题]",platform:"[平台: 如公众号、知乎、头条等]"},l={space:["简练","中等","长篇"]},f=new(0,u.Delta)().insert("我是一位").insert(" ",(i={},(0,s._)(i,u.VARS_KEY,"role"),(0,s._)(i,u.VARS_VALUE_KEY,"博主"),i)).insert("，帮我写一篇关于").insert(" ",(0,s._)({},u.VARS_KEY,"theme")).insert("的").insert(" ",(0,s._)({},u.VARS_KEY,"platform")).insert("文章，需要符合该平台写作风格，文章篇幅为").insert(" ",(o={},(0,s._)(o,u.SEL_KEY,"space"),(0,s._)(o,u.SEL_VALUE_KEY,"中等"),o)).insert("。")},9682:function(t,e,n){"use strict";n.r(e),n.d(e,{Clipboard:function(){return p}});var r=n("30787"),i=n("66125"),o=n("62912"),s=n("29403"),u=n("72291"),a=n("58739"),c=n("94445"),l=n("53746"),f=n("26374"),d=n("28262"),h=n("81737"),E=n("27697"),v=n("81917"),p=function(){function t(e){(0,r._)(this,t),this.editor=e,this.copyModule=new h.Copy(e),this.pasteModule=new E.Paste(e),this.editor.event.on(d.EDITOR_EVENT.CUT,this.onCut),this.editor.event.on(d.EDITOR_EVENT.COPY,this.onCopy),this.editor.event.on(d.EDITOR_EVENT.PASTE,this.onPaste)}var e=t.prototype;return e.destroy=function(){this.editor.event.off(d.EDITOR_EVENT.CUT,this.onCut),this.editor.event.off(d.EDITOR_EVENT.COPY,this.onCopy),this.editor.event.off(d.EDITOR_EVENT.PASTE,this.onPaste)},e.onCopy=function(t){t.preventDefault(),t.stopPropagation();var e=this.editor.selection.get();if(!!e){var n=new l.Delta;if(e.isCollapsed){var r=this.editor.lookup.getOpAtPoint(e.start);r&&this.editor.schema.isVoid(r)&&n.push(r)}else{var i,a=this.editor.lookup.getFragment();if(a&&(i=n.ops).push.apply(i,(0,u._)(a)),e.start.line!==e.end.line){var c=this.editor.state.block.getLine(e.end.line);c&&n.push((0,s._)((0,o._)({},l.EOL_OP),{attributes:c.attributes}))}}n.ops.length&&this.copyModule.copy(n,t)}},e.onCut=function(t){t.preventDefault(),t.stopPropagation();var e=this.editor.selection.get();if(e){if(this.onCopy(t),e.isCollapsed){var n=this.editor.lookup.getLeafAtPoint(e.start);n&&this.editor.schema.isVoid(n.op)&&this.editor.perform.deleteFragment(n.toRange())}else this.editor.perform.deleteFragment(e)}},e.onPaste=function(t){t.preventDefault(),t.stopPropagation();var e,n=t.clipboardData;if(!(!n||this.editor.state.isReadonly())){var r=Array.from(n.files),o=n.getData(v.TEXT_DOC),s=n.getData(f.TEXT_HTML),u=n.getData(f.TEXT_PLAIN);if(this.editor.logger.info("Paste Clipboard Data:",(e={files:r},(0,i._)(e,v.TEXT_DOC,o),(0,i._)(e,f.TEXT_HTML,s),(0,i._)(e,f.TEXT_PLAIN,u),e)),o){var a=(0,f.TSON).parse(o),c=a&&new l.Delta(a);return c&&this.pasteModule.applyDelta(c,t)}if(r.length)return this.pasteModule.applyFiles(r,t);if(s)return this.pasteModule.applyHTMLText(s,t);if(u)return this.pasteModule.applyPlainText(n,t)}},t}();(0,a._)([f.Bind,(0,c._)("design:type",Function),(0,c._)("design:paramtypes",["undefined"==typeof ClipboardEvent?Object:ClipboardEvent])],p.prototype,"onCopy",null),(0,a._)([f.Bind,(0,c._)("design:type",Function),(0,c._)("design:paramtypes",["undefined"==typeof ClipboardEvent?Object:ClipboardEvent])],p.prototype,"onCut",null),(0,a._)([f.Bind,(0,c._)("design:type",Function),(0,c._)("design:paramtypes",["undefined"==typeof ClipboardEvent?Object:ClipboardEvent])],p.prototype,"onPaste",null)},81737:function(t,e,n){"use strict";n.r(e),n.d(e,{Copy:function(){return h}});var r=n("30787"),i=n("66125"),o=n("62912"),s=n("53746"),u=n("26374"),a=n("21465"),c=n("51474"),l=n("81917"),f=n("63213"),d=n("33235"),h=function(){function t(e){(0,r._)(this,t),this.editor=e}var e=t.prototype;return e.copy=function(t,e){var n,r=this.serialize(t),s={delta:t,html:r};this.editor.plugin.call(c.CALLER_TYPE.WILL_SET_CLIPBOARD,s);var a=(0,d.getFragmentText)(s.html),f=(0,d.serializeHTML)(s.html),h=JSON.stringify(t.ops),E=(0,o._)((n={},(0,i._)(n,u.TEXT_PLAIN,a),(0,i._)(n,u.TEXT_HTML,f),(0,i._)(n,l.TEXT_DOC,h),n),s.extra);this.editor.logger.info("Set Clipboard Data:",E),e?(0,u.Clipboard).writeDataTransfer(E,e):((0,u.Clipboard).execCopyCommand(E),this.editor.selection.focus())},e.serialize=function(t,e){var n=e||document.createDocumentFragment(),r=document.createDocumentFragment(),i=(0,s.normalizeEOL)(t.ops),o=!0,u=!1,l=void 0;try{for(var d,h=i[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){var E=d.value;if((0,s.isEOLOp)(E)){var v={op:E,html:r};this.editor.plugin.call(c.CALLER_TYPE.SERIALIZE,v);var p=v.html;!(0,f.isMatchBlockTag)(p)&&((p=document.createElement("div")).setAttribute(a.NODE_KEY,"true"),p.appendChild(v.html)),n.appendChild(p),r=document.createDocumentFragment();continue}var g=E.insert||"",_=document.createTextNode(g),O={op:E,html:_};this.editor.plugin.call(c.CALLER_TYPE.SERIALIZE,O),r.appendChild(O.html)}}catch(t){u=!0,l=t}finally{try{!o&&null!=h.return&&h.return()}finally{if(u)throw l}}if(r.childNodes.length){var T={op:{insert:s.EOL},html:r};this.editor.plugin.call(c.CALLER_TYPE.SERIALIZE,T);var y=T.html;!(0,f.isMatchBlockTag)(y)&&((y=document.createElement("div")).setAttribute(a.NODE_KEY,"true"),y.appendChild(T.html)),y.appendChild(T.html),n.appendChild(y)}return n},t}()},27697:function(t,e,n){"use strict";n.r(e),n.d(e,{Paste:function(){return c}});var r=n("30787"),i=n("72291"),o=n("53746"),s=n("26374"),u=n("51474"),a=n("34786"),c=function(){function t(e){(0,r._)(this,t),this.editor=e}var e=t.prototype;return e.applyDelta=function(t,e){var n={delta:t,event:e};this.editor.plugin.call(u.CALLER_TYPE.WILL_PASTE_DELTAS,n),this.editor.logger.info("Editor Will Apply:",n.delta);try{var r=this.editor.selection.get();r&&this.editor.perform.insertFragment(r,n.delta)}catch(t){this.editor.logger.error("InsertFragment Error:",t,n.delta)}},e.applyPlainText=function(t,e){var n=t.getData(s.TEXT_PLAIN)||"",r=(0,a.normalizeDelta)(this.editor,new(0,o.Delta)().insert(n));this.applyDelta(r,e)},e.applyFiles=function(t,e){var n={html:document.createDocumentFragment(),delta:new o.Delta,files:t};this.editor.plugin.call(u.CALLER_TYPE.DESERIALIZE,n),this.applyDelta(n.delta,e)},e.applyHTMLText=function(t,e){var n=new DOMParser().parseFromString(t,s.TEXT_HTML);if(n.body&&n.body.hasChildNodes()){var r=this.deserialize(n.body);return this.applyDelta(r,e)}},e.deserialize=function(t){var e=new o.Delta;if(!t.childNodes.length){if((0,s.isDOMText)(t)){var n=t.textContent||"";e.insert(n)}else{var r={delta:e,html:t};return this.editor.plugin.call(u.CALLER_TYPE.DESERIALIZE,r),r.delta}return e}var a=Array.from(t.childNodes),c=!0,l=!1,f=void 0;try{for(var d,h=a[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var E,v=d.value,p=this.deserialize(v);(E=e.ops).push.apply(E,(0,i._)(p.ops))}}catch(t){l=!0,f=t}finally{try{!c&&null!=h.return&&h.return()}finally{if(l)throw f}}var g={delta:e,html:t};return this.editor.plugin.call(u.CALLER_TYPE.DESERIALIZE,g),g.delta},t}()},81917:function(t,e,n){"use strict";n.r(e),n.d(e,{TEXT_DOC:function(){return r}});var r="application/x-block-kit"},63213:function(t,e,n){"use strict";n.r(e),n.d(e,{applyMarker:function(){return u},isMatchHTMLTag:function(){return a},isMatchBlockTag:function(){return c}});var r=n("62912"),i=n("53746"),o=n("26374"),s=["p","div","address","article","blockquote","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","pre","section","table","td","tr","ul","video"],u=function(t,e){var n=!0,o=!1,s=void 0;try{for(var u,a=t.ops[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;c.insert!==i.EOL&&(c.attributes=(0,r._)({},c.attributes,e))}}catch(t){o=!0,s=t}finally{try{!n&&null!=a.return&&a.return()}finally{if(o)throw s}}return t},a=function(t,e){return(0,o.isDOMElement)(t)&&t.tagName.toLocaleLowerCase()===e.toLocaleLowerCase()},c=function(t){return!!(0,o.isDOMElement)(t)&&s.some(function(e){return a(t,e)})}},33235:function(t,e,n){"use strict";n.r(e),n.d(e,{serializeHTML:function(){return s},getFragmentText:function(){return a}});var r=n("10373"),i=n("53746"),o=n("21465"),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.appendChild(e?t.cloneNode(!0):t),n.innerHTML},u=function(t){if((0,r._)(t,Text))return t.textContent||"";var e=[];return t.childNodes.forEach(function(t){e.push(u(t))}),(0,r._)(t,Element)&&t.getAttribute(o.NODE_KEY)&&e.push(i.EOL),e.join("")},a=function(t){var e=[];Array.from(t.childNodes).forEach(function(t){e.push(u(t))});var n=e.join("");return n.endsWith(i.EOL)?n.slice(0,-1):n}},98580:function(t,e,n){"use strict";n.r(e),n.d(e,{Command:function(){return i}});var r=n("30787"),i=function(){function t(){(0,r._)(this,t),this.commands={}}var e=t.prototype;return e.destroy=function(){this.commands={}},e.get=function(){return this.commands},e.register=function(t,e){this.commands[t]=e},e.exec=function(t,e){return this.commands[t]&&this.commands[t](e)},e.unregister=function(t){delete this.commands[t]},t}()},7625:function(t,e,n){"use strict";n.r(e),n.d(e,{Editor:function(){return L}});var r=n("30787"),i=n("53746"),o=n("9682"),s=n("98580"),u=n("20375"),a=n("54831"),c=n("83644"),l=n("2985"),f=n("52077"),d=n("79986"),h=n("13934"),E=n("84553"),v=n("47144"),p=n("44749"),g=n("25537"),_=n("20694"),O=n("51630"),T=n("83135"),y=n("93689"),m=n("42636"),L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r._)(this,t);var n=e.delta,v=void 0===n?new i.Delta(m.BLOCK_LIKE):n,T=e.logLevel,L=void 0===T?l.LOG_LEVEL.ERROR:T,N=e.schema,b=void 0===N?{}:N,S=e.modules,R=void 0===S?{}:S;this.container=null;var I=R.Logger||l.Logger,C=R.Schema||g.Schema,A=R.Model||d.Model,D=R.State||O.EditorState,w=R.Event||u.Event,P=R.Selection||_.Selection,M=R.Input||c.Input,x=R.Plugin||E.Plugin,k=R.History||a.History,V=R.Clipboard||o.Clipboard,K=R.Perform||h.Perform,Y=R.Command||s.Command,j=R.Tracer||y.Tracer,F=R.Lookup||f.Lookup,U=R.Rect||p.Rect;this.logger=new I(L),this.schema=new C(b),this.model=new A,this.state=new D(this,v),this.event=new w(this),this.selection=new P(this),this.input=new M(this),this.plugin=new x(this),this.history=new k(this),this.clipboard=new V(this),this.perform=new K(this),this.command=new Y,this.tracer=new j(this),this.lookup=new F(this),this.rect=new U(this)}var e=t.prototype;return e.mount=function(t){this.state.get(T.EDITOR_STATE.MOUNTED)&&console.warn("Editor has been mounted, please destroy it before mount again."),this.container=t,this.state.set(T.EDITOR_STATE.MOUNTED,!0),this.event.bind()},e.unmount=function(){this.event.unbind(),this.container=null,this.state.set(T.EDITOR_STATE.MOUNTED,!1)},e.getContainer=function(){if(!this.container){var t=document.createElement("div");return t.setAttribute("data-type","mock"),t}return this.container},e.destroy=function(){v.CorePlugin.editor===this&&(v.CorePlugin.editor=null),this.event.unbind(),this.input.destroy(),this.model.destroy(),this.plugin.destroy(),this.lookup.destroy(),this.selection.destroy(),this.history.destroy(),this.clipboard.destroy(),this.command.destroy(),this.tracer.destroy(),this.state.set(T.EDITOR_STATE.MOUNTED,!1)},t}()},42636:function(t,e,n){"use strict";n.r(e),n.d(e,{BLOCK_LIKE:function(){return r}});var r={ops:[{insert:"\n"}]}},28262:function(t,e,n){"use strict";n.r(e),n.d(e,{EDITOR_EVENT:function(){return o}});var r=n("62912"),i=n("26932"),o=(0,r._)({PAINT:"PAINT",CONTENT_CHANGE:"CONTENT_CHANGE",SELECTION_CHANGE:"SELECTION_CHANGE",CONTENT_WILL_CHANGE:"CONTENT_WILL_CHANGE"},i.NATIVE_EVENTS)},20375:function(t,e,n){"use strict";n.r(e),n.d(e,{Event:function(){return s}});var r=n("30787"),i=n("26374"),o=n("44660"),s=function(){function t(e){var n=this;(0,r._)(this,t),this.editor=e,this.on=function(t,e,r){return n.bus.on(t,e,r)},this.once=function(t,e,r){return n.bus.once(t,e,r)},this.off=function(t,e){return n.bus.off(t,e)},this.trigger=function(t,e){return n.bus.emit(t,e)},this.bus=new i.EventBus,this.nativeEvent=new o.NativeEvent(this.bus,this.editor)}var e=t.prototype;return e.bind=function(){this.nativeEvent.bind()},e.unbind=function(){this.nativeEvent.unbind()},e.destroy=function(){this.unbind(),this.bus.clear()},t}()},44660:function(t,e,n){"use strict";n.r(e),n.d(e,{NativeEvent:function(){return s}});var r=n("30787"),i=n("83135"),o=n("26932"),s=function(){function t(e,n){var s=this;(0,r._)(this,t),this.event=e,this.editor=n,this.onCompositionStart=function(t){s.editor.state.set(i.EDITOR_STATE.COMPOSING,!0),s.event.emit(o.NATIVE_EVENTS.COMPOSITION_START,t)},this.onCompositionUpdate=function(t){s.event.emit(o.NATIVE_EVENTS.COMPOSITION_UPDATE,t)},this.onCompositionEnd=function(t){s.editor.state.set(i.EDITOR_STATE.COMPOSING,!1),s.event.emit(o.NATIVE_EVENTS.COMPOSITION_END,t)},this.onBeforeInput=function(t){s.event.emit(o.NATIVE_EVENTS.BEFORE_INPUT,t)},this.onInput=function(t){s.event.emit(o.NATIVE_EVENTS.INPUT,t)},this.onCopy=function(t){s.event.emit(o.NATIVE_EVENTS.COPY,t)},this.onCut=function(t){s.event.emit(o.NATIVE_EVENTS.CUT,t)},this.onPaste=function(t){s.event.emit(o.NATIVE_EVENTS.PASTE,t)},this.onKeydown=function(t){s.event.emit(o.NATIVE_EVENTS.KEY_DOWN,t)},this.onKeypress=function(t){s.event.emit(o.NATIVE_EVENTS.KEY_PRESS,t)},this.onKeyup=function(t){s.event.emit(o.NATIVE_EVENTS.KEY_UP,t)},this.onFocus=function(t){s.editor.state.set(i.EDITOR_STATE.FOCUS,!0),s.event.emit(o.NATIVE_EVENTS.FOCUS,t)},this.onBlur=function(t){s.editor.state.set(i.EDITOR_STATE.FOCUS,!1),s.event.emit(o.NATIVE_EVENTS.BLUR,t)},this.onFocusIn=function(t){s.editor.state.set(i.EDITOR_STATE.FOCUSIN,!0),s.event.emit(o.NATIVE_EVENTS.FOCUS,t)},this.onFocusOut=function(t){s.editor.state.set(i.EDITOR_STATE.FOCUSIN,!1),s.event.emit(o.NATIVE_EVENTS.BLUR,t)},this.onSelectionChange=function(t){s.event.emit(o.NATIVE_EVENTS.SELECTION_CHANGE_NATIVE,t)},this.onMouseDown=function(t){s.event.emit(o.NATIVE_EVENTS.MOUSE_DOWN,t)},this.onMouseUp=function(t){s.event.emit(o.NATIVE_EVENTS.MOUSE_UP,t)},this.onMouseDownGlobal=function(t){s.editor.state.set(i.EDITOR_STATE.MOUSE_DOWN,!0),s.event.emit(o.NATIVE_EVENTS.MOUSE_DOWN_GLOBAL,t)},this.onMouseUpGlobal=function(t){s.editor.state.set(i.EDITOR_STATE.MOUSE_DOWN,!1),s.event.emit(o.NATIVE_EVENTS.MOUSE_UP_GLOBAL,t)},this.onClick=function(t){s.event.emit(o.NATIVE_EVENTS.CLICK,t)}}var e=t.prototype;return e.bind=function(){this.unbind();var t=this.editor.getContainer();t.addEventListener(o.NATIVE_EVENTS.COMPOSITION_START,this.onCompositionStart),t.addEventListener(o.NATIVE_EVENTS.COMPOSITION_UPDATE,this.onCompositionUpdate),t.addEventListener(o.NATIVE_EVENTS.COMPOSITION_END,this.onCompositionEnd),t.addEventListener(o.NATIVE_EVENTS.BEFORE_INPUT,this.onBeforeInput),t.addEventListener(o.NATIVE_EVENTS.INPUT,this.onInput),t.addEventListener(o.NATIVE_EVENTS.COPY,this.onCopy),t.addEventListener(o.NATIVE_EVENTS.CUT,this.onCut),t.addEventListener(o.NATIVE_EVENTS.PASTE,this.onPaste),t.addEventListener(o.NATIVE_EVENTS.KEY_DOWN,this.onKeydown),t.addEventListener(o.NATIVE_EVENTS.KEY_PRESS,this.onKeypress),t.addEventListener(o.NATIVE_EVENTS.KEY_UP,this.onKeyup),t.addEventListener(o.NATIVE_EVENTS.FOCUS,this.onFocus),t.addEventListener(o.NATIVE_EVENTS.BLUR,this.onBlur),t.addEventListener(o.NATIVE_EVENTS.FOCUSIN,this.onFocusIn),t.addEventListener(o.NATIVE_EVENTS.FOCUSOUT,this.onFocusOut),t.addEventListener(o.NATIVE_EVENTS.MOUSE_DOWN,this.onMouseDown),t.addEventListener(o.NATIVE_EVENTS.MOUSE_UP,this.onMouseUp),t.addEventListener(o.NATIVE_EVENTS.CLICK,this.onClick),document.addEventListener(o.NATIVE_EVENTS.SELECTION_CHANGE_NATIVE,this.onSelectionChange),document.addEventListener(o.NATIVE_EVENTS.MOUSE_DOWN,this.onMouseDownGlobal),document.addEventListener(o.NATIVE_EVENTS.MOUSE_UP,this.onMouseUpGlobal)},e.unbind=function(){var t=this.editor.getContainer();t.removeEventListener(o.NATIVE_EVENTS.COMPOSITION_START,this.onCompositionStart),t.removeEventListener(o.NATIVE_EVENTS.COMPOSITION_UPDATE,this.onCompositionUpdate),t.removeEventListener(o.NATIVE_EVENTS.COMPOSITION_END,this.onCompositionEnd),t.removeEventListener(o.NATIVE_EVENTS.BEFORE_INPUT,this.onBeforeInput),t.removeEventListener(o.NATIVE_EVENTS.KEY_PRESS,this.onKeypress),t.removeEventListener(o.NATIVE_EVENTS.INPUT,this.onInput),t.removeEventListener(o.NATIVE_EVENTS.COPY,this.onCopy),t.removeEventListener(o.NATIVE_EVENTS.CUT,this.onCut),t.removeEventListener(o.NATIVE_EVENTS.PASTE,this.onPaste),t.removeEventListener(o.NATIVE_EVENTS.KEY_DOWN,this.onKeydown),t.removeEventListener(o.NATIVE_EVENTS.KEY_UP,this.onKeyup),t.removeEventListener(o.NATIVE_EVENTS.FOCUS,this.onFocus),t.removeEventListener(o.NATIVE_EVENTS.BLUR,this.onBlur),t.removeEventListener(o.NATIVE_EVENTS.FOCUSIN,this.onFocusIn),t.removeEventListener(o.NATIVE_EVENTS.FOCUSOUT,this.onFocusOut),t.removeEventListener(o.NATIVE_EVENTS.MOUSE_DOWN,this.onMouseDown),t.removeEventListener(o.NATIVE_EVENTS.MOUSE_UP,this.onMouseUp),t.removeEventListener(o.NATIVE_EVENTS.CLICK,this.onClick),document.removeEventListener(o.NATIVE_EVENTS.SELECTION_CHANGE_NATIVE,this.onSelectionChange),document.removeEventListener(o.NATIVE_EVENTS.MOUSE_DOWN,this.onMouseDownGlobal),document.removeEventListener(o.NATIVE_EVENTS.MOUSE_UP,this.onMouseUpGlobal)},t}()},26932:function(t,e,n){"use strict";n.r(e),n.d(e,{NATIVE_EVENTS:function(){return r}});var r={COMPOSITION_START:"compositionstart",COMPOSITION_UPDATE:"compositionupdate",COMPOSITION_END:"compositionend",COPY:"copy",CUT:"cut",PASTE:"paste",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",BEFORE_INPUT:"beforeinput",INPUT:"input",FOCUS:"focus",FOCUSIN:"focusin",FOCUSOUT:"focusout",BLUR:"blur",SELECTION_CHANGE_NATIVE:"selectionchange",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_DOWN_GLOBAL:"mousedown_global",MOUSE_UP_GLOBAL:"mouseup_global",CLICK:"click"}},54831:function(t,e,n){"use strict";n.r(e),n.d(e,{History:function(){return E}});var r=n("30787"),i=n("72291"),o=n("58739"),s=n("94445"),u=n("53746"),a=n("26374"),c=n("28262"),l=n("10636"),f=n("90151"),d=n("43589"),h=n("83135"),E=function(){function t(e){(0,r._)(this,t),this.editor=e,this.DELAY=1e3,this.STACK_SIZE=100,this.batching=[],this.redoStack=[],this.undoStack=[],this.lastRecord=0,this.currentRange=null,this.editor.event.on(c.EDITOR_EVENT.KEY_DOWN,this.onKeyDown),this.editor.event.on(c.EDITOR_EVENT.CONTENT_CHANGE,this.onContentChange),this.editor.event.on(c.EDITOR_EVENT.CONTENT_WILL_CHANGE,this.onContentWillChange)}var e=t.prototype;return e.destroy=function(){this.undoStack=[],this.redoStack=[],this.editor.event.off(c.EDITOR_EVENT.KEY_DOWN,this.onKeyDown),this.editor.event.off(c.EDITOR_EVENT.CONTENT_CHANGE,this.onContentChange),this.editor.event.off(c.EDITOR_EVENT.CONTENT_WILL_CHANGE,this.onContentWillChange)},e.undo=function(){if(!!this.undoStack.length){var t=this.undoStack.pop();if(t){var e=this.editor.state.toBlock(),n=t.delta.invert(e);this.redoStack.push({id:t.id,delta:n,range:this.transformRange(t.range,n)}),this.lastRecord=0;var r=h.APPLY_SOURCE.HISTORY;this.editor.state.apply(t.delta,{source:r,autoCaret:!1}),this.restoreSelection(t)}}},e.redo=function(){if(!!this.redoStack.length){var t=this.redoStack.pop();if(t){var e=this.editor.state.toBlock(),n=t.delta.invert(e);this.undoStack.push({id:t.id,delta:n,range:this.transformRange(t.range,n)}),this.lastRecord=0;var r=h.APPLY_SOURCE.HISTORY;this.editor.state.apply(t.delta,{source:r,autoCaret:!1}),this.restoreSelection(t)}}},e.beginBatch=function(){this.batching.push(1)},e.closeBatch=function(){this.batching.pop()},e.batch=function(t){this.beginBatch(),t(),this.closeBatch()},e.isBatching=function(){return this.batching.length>0},e.mergeRecord=function(t,e){var n=this.undoStack.findIndex(function(e){return e.id.has(t)}),r=this.undoStack.findIndex(function(t){return t.id.has(e)});if(-1===n||-1===r||n>=r)return!1;for(var o=this.undoStack[n],s=this.undoStack[r],u=s.delta,a=r-1;a>n;a--)u=this.undoStack[a].delta.transform(u);return this.undoStack[n]={id:new Set((0,i._)(o.id).concat((0,i._)(s.id))),delta:u.compose(o.delta),range:o.range},this.undoStack.splice(r,1),!0},e.isUndoAble=function(){return this.undoStack.length>0},e.isRedoAble=function(){return this.redoStack.length>0},e.clear=function(){this.batching=[],this.redoStack=[],this.undoStack=[],this.lastRecord=0,this.currentRange=null},e.onContentWillChange=function(){var t=this.editor.selection.toRaw();this.currentRange=t},e.onKeyDown=function(t){(0,l.isUndo)(t)&&(this.undo(),t.preventDefault()),(0,l.isRedo)(t)&&(this.redo(),t.preventDefault())},e.onContentChange=function(t){var e=t.changes,n=t.previous,r=t.source,i=t.id;if(!!e.ops.length&&r!==h.APPLY_SOURCE.HISTORY){if(t.source===h.APPLY_SOURCE.REMOTE||!1===t.options.undoable){this.transformStack(this.undoStack,e),this.transformStack(this.redoStack,e);return}this.redoStack=[];var o=e.invert(n),s=this.currentRange,u=new Set([i]),a=Date.now();if((this.lastRecord+this.DELAY>a||this.isBatching())&&this.undoStack.length>0){var c=this.undoStack.pop();c&&(o=o.compose(c.delta),s=c.range,u=c.id.add(i))}else this.lastRecord=a;o.ops.length&&(this.undoStack.push({delta:o,range:s,id:u}),this.undoStack.length>this.STACK_SIZE&&this.undoStack.shift())}},e.transformStack=function(t,e){for(var n=e,r=t.length-1;r>=0;r--){var i=t[r];t[r]={id:i.id,delta:n.transform(i.delta,!0),range:i.range&&this.transformRange(i.range,n)},n=i.delta.transform(n),!t[r].delta.ops.length&&t.splice(r,1)}},e.transformRange=function(t,e){if(!t)return t;var n=e.transformPosition(t.start),r=e.transformPosition(t.start+t.len);return new d.RawRange(n,r-n)},e.restoreSelection=function(t){if(t.range){var e=(0,f.Range).fromRaw(this.editor,t.range);this.editor.selection.set(e)}else{var n=0;(0,u.isRetainOp)(t.delta.ops[0])&&(n=t.delta.ops[0].retain);var r=(0,d.RawRange).fromEdge(n,n),i=(0,f.Range).fromRaw(this.editor,r);this.editor.selection.set(i)}},t}();(0,o._)([a.Bind,(0,s._)("design:type",Function),(0,s._)("design:paramtypes",[])],E.prototype,"onContentWillChange",null),(0,o._)([a.Bind,(0,s._)("design:type",Function),(0,s._)("design:paramtypes",["undefined"==typeof KeyboardEvent?Object:KeyboardEvent])],E.prototype,"onKeyDown",null),(0,o._)([a.Bind,(0,s._)("design:type",Function),(0,s._)("design:paramtypes",["undefined"==typeof ContentChangeEvent?Object:ContentChangeEvent])],E.prototype,"onContentChange",null)},72981:function(t,e,n){"use strict";n.r(e),n.d(e,{applyMarker:function(){return r.applyMarker},isMatchHTMLTag:function(){return r.isMatchHTMLTag}}),n.d(e,{Editor:function(){return i.Editor}}),n.d(e,{EDITOR_EVENT:function(){return o.EDITOR_EVENT}}),n.d(e,{isArrowLeft:function(){return s.isArrowLeft},isArrowRight:function(){return s.isArrowRight}}),n.d(e,{LOG_LEVEL:function(){return u.LOG_LEVEL},Logger:function(){return u.Logger}}),n.d(e,{getFirstUnicodeLen:function(){return a.getFirstUnicodeLen},getLastUnicodeLen:function(){return a.getLastUnicodeLen}}),n.d(e,{BLOCK_ID_KEY:function(){return c.BLOCK_ID_KEY},BLOCK_KEY:function(){return c.BLOCK_KEY},CLIENT_KEY:function(){return c.CLIENT_KEY},EDITOR_KEY:function(){return c.EDITOR_KEY},ISOLATED_KEY:function(){return c.ISOLATED_KEY},LEAF_KEY:function(){return c.LEAF_KEY},LEAF_STRING:function(){return c.LEAF_STRING},NODE_KEY:function(){return c.NODE_KEY},PLACEHOLDER_KEY:function(){return c.PLACEHOLDER_KEY},VOID_KEY:function(){return c.VOID_KEY},VOID_LEN_KEY:function(){return c.VOID_LEN_KEY},ZERO_EMBED_KEY:function(){return c.ZERO_EMBED_KEY},ZERO_ENTER_KEY:function(){return c.ZERO_ENTER_KEY},ZERO_SPACE_KEY:function(){return c.ZERO_SPACE_KEY},ZERO_SYMBOL:function(){return c.ZERO_SYMBOL},ZERO_VOID_KEY:function(){return c.ZERO_VOID_KEY}}),n.d(e,{closestTo:function(){return l.closestTo},isClosestTo:function(){return l.isClosestTo}}),n.d(e,{CorePlugin:function(){return f.CorePlugin}}),n.d(e,{Priority:function(){return d.Priority},PRIORITY_KEY:function(){return d.PRIORITY_KEY}}),n.d(e,{CALLER_TYPE:function(){return h.CALLER_TYPE},PLUGIN_FUNC:function(){return h.PLUGIN_FUNC}}),n.d(e,{relativeTo:function(){return E.relativeTo}}),n.d(e,{Schema:function(){return v.Schema}}),n.d(e,{isEmptyLine:function(){return p.isEmptyLine}}),n.d(e,{Point:function(){return g.Point}}),n.d(e,{Range:function(){return _.Range}}),n.d(e,{RawPoint:function(){return O.RawPoint}}),n.d(e,{RawRange:function(){return T.RawRange}}),n.d(e,{ALERT:function(){return y.ALERT},DIRECTION:function(){return y.DIRECTION},GRANULARITY:function(){return y.GRANULARITY}}),n.d(e,{getRootSelection:function(){return m.getRootSelection},getStaticSelection:function(){return m.getStaticSelection},getTextNode:function(){return m.getTextNode},isBackwardDOMRange:function(){return m.isBackwardDOMRange},isNeedIgnoreRangeDOM:function(){return m.isNeedIgnoreRangeDOM}}),n.d(e,{toModelPoint:function(){return L.toModelPoint}}),n.d(e,{isEqualDOMRange:function(){return N.isEqualDOMRange},normalizeDOMPoint:function(){return N.normalizeDOMPoint},toDOMPoint:function(){return N.toDOMPoint}}),n.d(e,{EDITOR_STATE:function(){return b.EDITOR_STATE}});var r=n("63213"),i=n("7625"),o=n("28262"),s=n("10636"),u=n("2985"),a=n("67453"),c=n("21465"),l=n("11215"),f=n("47144"),d=n("92690"),h=n("51474"),E=n("6754"),v=n("25537"),p=n("82313"),g=n("64951"),_=n("90151"),O=n("24623"),T=n("43589"),y=n("43302"),m=n("79888"),L=n("79431"),N=n("30296"),b=n("83135")},83644:function(t,e,n){"use strict";n.r(e),n.d(e,{Input:function(){return f}});var r=n("30787"),i=n("58739"),o=n("94445"),s=n("26374"),u=n("28262"),a=n("90151"),c=n("43302"),l=n("83135"),f=function(){function t(e){(0,r._)(this,t),this.editor=e,this.editor.event.on(u.EDITOR_EVENT.BEFORE_INPUT,this.onBeforeInput),this.editor.event.on(u.EDITOR_EVENT.COMPOSITION_START,this.onCompositionStart),this.editor.event.on(u.EDITOR_EVENT.COMPOSITION_END,this.onCompositionEnd)}var e=t.prototype;return e.destroy=function(){this.editor.event.off(u.EDITOR_EVENT.BEFORE_INPUT,this.onBeforeInput),this.editor.event.off(u.EDITOR_EVENT.COMPOSITION_START,this.onCompositionStart),this.editor.event.off(u.EDITOR_EVENT.COMPOSITION_END,this.onCompositionEnd)},e.onBeforeInput=function(t){if(!this.editor.state.get(l.EDITOR_STATE.COMPOSING)){t.preventDefault();var e=t.inputType,n=t.data,r=void 0===n?"":n,i=this.editor.selection.get();if(i)switch(e){case"deleteByComposition":case"deleteByCut":this.editor.perform.deleteFragment(i);break;case"deleteWordBackward":var o=this.editor.selection.move(c.GRANULARITY.WORD,c.DIRECTION.BACKWARD);this.editor.perform.deleteBackward((0,a.Range).aggregate(o,i)||i);break;case"deleteContent":case"deleteContentBackward":this.editor.perform.deleteBackward(i);break;case"deleteWordForward":var s=this.editor.selection.move(c.GRANULARITY.WORD);this.editor.perform.deleteBackward((0,a.Range).aggregate(s,i)||i);break;case"deleteContentForward":this.editor.perform.deleteForward(i);break;case"insertLineBreak":case"insertParagraph":this.editor.perform.insertBreak(i);break;case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":r&&this.editor.perform.insertText(i,r)}}},e.onCompositionStart=function(){var t=this.editor.selection.get();t&&!t.isCollapsed&&this.editor.perform.deleteFragment(t)},e.onCompositionEnd=function(t){t.preventDefault();var e=t.data,n=this.editor.selection.get();n&&this.editor.perform.insertText(n,e||"")},t}();(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",["undefined"==typeof InputEvent?Object:InputEvent])],f.prototype,"onBeforeInput",null),(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",[])],f.prototype,"onCompositionStart",null),(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",["undefined"==typeof CompositionEvent?Object:CompositionEvent])],f.prototype,"onCompositionEnd",null)},10636:function(t,e,n){"use strict";n.r(e),n.d(e,{isArrowLeft:function(){return o},isArrowRight:function(){return s},isUndo:function(){return u},isRedo:function(){return a}});var r=n("26374"),i=r.IS_MAC?"metaKey":"ctrlKey",o=function(t){return t.keyCode===r.KEY_CODE.LEFT},s=function(t){return t.keyCode===r.KEY_CODE.RIGHT},u=function(t){return!t.shiftKey&&t[i]&&t.keyCode===r.KEY_CODE.Z},a=function(t){return t.shiftKey&&t[i]&&t.keyCode===r.KEY_CODE.Z}},2985:function(t,e,n){"use strict";n.r(e),n.d(e,{LOG_LEVEL:function(){return o},Logger:function(){return s}});var r=n("30787"),i=n("72291"),o={DEBUG:-1,INFO:0,WARNING:1,ERROR:2},s=function(){function t(e){(0,r._)(this,t),this.level=e}var e=t.prototype;return e.set=function(t){this.level=t},e.debug=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.level<=o.DEBUG&&(e=console).log.apply(e,["DEBUG -",t].concat((0,i._)(r)))},e.info=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.level<=o.INFO&&(e=console).log.apply(e,["Log -",t].concat((0,i._)(r)))},e.warning=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.level<=o.WARNING&&(e=console).warn.apply(e,["Warning -",t].concat((0,i._)(r)))},e.error=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.level<=o.ERROR&&(e=console).error.apply(e,["Error -",t].concat((0,i._)(r)))},e.trace=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.level<=o.ERROR&&(e=console).trace.apply(e,["Trace -",t].concat((0,i._)(r)))},t}()},52077:function(t,e,n){"use strict";n.r(e),n.d(e,{Lookup:function(){return f}});var r=n("30787"),i=n("72291"),o=n("58739"),s=n("94445"),u=n("53746"),a=n("26374"),c=n("28262"),l=n("73011"),f=function(){function t(e){(0,r._)(this,t),this.editor=e,this.marks={},this.editor.event.on(c.EDITOR_EVENT.SELECTION_CHANGE,this.onSelectionChange)}var e=t.prototype;return e.destroy=function(){this.editor.event.off(c.EDITOR_EVENT.SELECTION_CHANGE,this.onSelectionChange)},e.getLeafAtPoint=function(t){var e=this.editor.state.block.getLine(t.line);if(!e)return null;var n=e.getLeaves(),r=t.offset,i=!0,o=!1,s=void 0;try{for(var u,a=n[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var c=u.value,l=c.length;if(l>=r)return c;r-=l}}catch(t){o=!0,s=t}finally{try{!i&&null!=a.return&&a.return()}finally{if(o)throw s}}return null},e.getOpAtPoint=function(t){var e=this.getLeafAtPoint(t);return e?e.op:null},e.getOpAtLength=function(t,e){var n=e,r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value,l=(0,u.getOpLength)(c);if(l>=n)return c;n-=l}}catch(t){i=!0,o=t}finally{try{!r&&null!=a.return&&a.return()}finally{if(i)throw o}}return null},e.getFragment=function(t){var e=t||this.editor.selection.get();if(!e||e.isCollapsed)return null;var n=e.start,r=e.end,o=this.editor.state.block;if(n.line===r.line){var s=o.getLine(n.line);return s?s.slice(n.offset,r.offset):[]}var u=[],a=o.getLine(n.line),c=a?a.slice(n.offset,a.length):[];u.push.apply(u,(0,i._)(c));for(var l=n.line+1,f=r.line-1;l<=f;l++){var d=o.getLine(l);d&&u.push.apply(u,(0,i._)(d.getOps()))}var h=o.getLine(r.line),E=h?h.slice(0,r.offset):[];return u.push.apply(u,(0,i._)(E)),u},e.getBackwardOpAtPoint=function(t){var e=this.getLeafAtPoint(t);return e?e.sliceOp(t.offset-e.offset):null},e.getForwardOpAtPoint=function(t){var e=this.editor.state.block.getLine(t.line);if(!e)return null;var n=e.getLeaves(),r=t.offset,i=!0,o=!1,s=void 0;try{for(var u,a=n[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var c=u.value,l=c.length;if(l>r)return c.sliceOp(r,!0);r-=l}}catch(t){o=!0,s=t}finally{try{!i&&null!=a.return&&a.return()}finally{if(o)throw s}}return null},e.getLeafMarks=function(t,e){var n=t&&t.op;if(!(!t||!n||!n.insert||!n.attributes||(0,u.isEOLOp)(n))){var r=n.attributes,i=Object.keys(r),o={},s=!0,a=!1,c=void 0;try{for(var l,f=i[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;if(this.editor.schema.mark.has(d)&&r[d]&&(o[d]=r[d]),e&&this.editor.schema.inline.has(d)){var h=t.next(!1);if(h&&h.op.attributes&&h.op.attributes[d])continue;delete o[d]}}}catch(t){a=!0,c=t}finally{try{!s&&null!=f.return&&f.return()}finally{if(a)throw c}}return Object.keys(o).length?o:void 0}},e.onSelectionChange=function(t){var e=t.current;if(!e||!e.isCollapsed){this.marks={};return}var n=e.start,r=this.editor.lookup.getLeafAtPoint(n);if(!r||!r.void){var i=(0,l.isLeafOffsetTail)(r,n),o=this.getLeafMarks(r,i);this.marks=o||{}}},t}();(0,o._)([a.Bind,(0,s._)("design:type",Function),(0,s._)("design:paramtypes",["undefined"==typeof SelectionChangeEvent?Object:SelectionChangeEvent])],f.prototype,"onSelectionChange",null)},73011:function(t,e,n){"use strict";n.r(e),n.d(e,{isLeafOffsetTail:function(){return r}});var r=function(t,e){return t&&e.offset-t.offset-t.length>=0}},67453:function(t,e,n){"use strict";n.r(e),n.d(e,{getFirstUnicodeLen:function(){return r},getLastUnicodeLen:function(){return i}});var r=function(t){if(!t||t.length<2)return t?t.length:0;var e=t.charCodeAt(0),n=t.charCodeAt(1);if(55296<e&&e<56319&&56320<n&&n<57343){for(var r=2,i=2,o=t.length;i<o&&8205===t[i].charCodeAt(0);i+=3)r+=3;return r}return 1},i=function(t){if(!t||t.length<2)return t?t.length:0;var e=t.charCodeAt(t.length-2),n=t.charCodeAt(t.length-1);if(55296<e&&e<56319&&56320<n&&n<57343){for(var r=2,i=t.length-3;i>0&&8205===t[i].charCodeAt(0);i-=3)r+=3;return r}return 1}},79986:function(t,e,n){"use strict";n.r(e),n.d(e,{Model:function(){return i}});var r=n("30787"),i=function(){function t(){(0,r._)(this,t),this.DOM_MODEL=new WeakMap,this.MODEL_DOM=new WeakMap}var e=t.prototype;return e.destroy=function(){this.DOM_MODEL=new WeakMap,this.MODEL_DOM=new WeakMap},e.setBlockModel=function(t,e){this.DOM_MODEL.set(t,e),this.MODEL_DOM.set(e,t)},e.getBlockState=function(t){return t&&this.DOM_MODEL.get(t)||null},e.getBlockNode=function(t){return t&&this.MODEL_DOM.get(t)||null},e.setLineModel=function(t,e){this.DOM_MODEL.set(t,e),this.MODEL_DOM.set(e,t)},e.getLineState=function(t){return t&&this.DOM_MODEL.get(t)||null},e.getLineNode=function(t){return t&&this.MODEL_DOM.get(t)||null},e.setLeafModel=function(t,e){this.DOM_MODEL.set(t,e),this.MODEL_DOM.set(e,t)},e.getLeafState=function(t){return t&&this.DOM_MODEL.get(t)||null},e.getLeafNode=function(t){return t&&this.MODEL_DOM.get(t)||null},t}()},21465:function(t,e,n){"use strict";n.r(e),n.d(e,{EDITOR_KEY:function(){return r},EDITABLE:function(){return i},NODE_KEY:function(){return o},PLACEHOLDER_KEY:function(){return s},LEAF_KEY:function(){return u},LEAF_STRING:function(){return a},VOID_KEY:function(){return c},VOID_LEN_KEY:function(){return l},BLOCK_KEY:function(){return f},BLOCK_ID_KEY:function(){return d},ISOLATED_KEY:function(){return h},ZERO_ENTER_KEY:function(){return E},ZERO_SPACE_KEY:function(){return v},ZERO_VOID_KEY:function(){return p},ZERO_EMBED_KEY:function(){return g},ZERO_SYMBOL:function(){return _},CLIENT_KEY:function(){return O}});var r="data-block-kit-editor",i="contenteditable",o="data-node",s="data-placeholder",u="data-leaf",a="data-string",c="data-void",l="data-void-len",f="data-block",d="data-block-id",h="data-isolated",E="data-zero-enter",v="data-zero-space",p="data-zero-void",g="data-zero-embed",_="​",O="_client_"},11215:function(t,e,n){"use strict";n.r(e),n.d(e,{getLeafNode:function(){return o},getLineNode:function(){return s},closestTo:function(){return u},isClosestTo:function(){return a}});var r=n("10373"),i=n("21465"),o=function(t){return t?(0,r._)(t,HTMLElement)?t.closest("[".concat(i.LEAF_KEY,"]")):(0,r._)(t.parentElement,HTMLElement)?t.parentElement.closest("[".concat(i.LEAF_KEY,"]")):null:null},s=function(t){var e=o(t);return e?e.closest("[".concat(i.NODE_KEY,"]")):null},u=function(t,e){return t?(0,r._)(t,HTMLElement)?t.closest(e):(0,r._)(t.parentElement,HTMLElement)?t.parentElement.closest(e):null:null},a=function(t,e){return!!u(t,e)}},13934:function(t,e,n){"use strict";n.r(e),n.d(e,{Perform:function(){return h}});var r=n("30787"),i=n("62912"),o=n("53746"),s=n("73011"),u=n("67453"),a=n("82313"),c=n("64951"),l=n("90151"),f=n("24623"),d=n("43589"),h=function(){function t(e){(0,r._)(this,t),this.editor=e}var e=t.prototype;return e.insertText=function(t,e){var n=(0,d.RawRange).fromRange(this.editor,t);if(!!n){var r=t.start,i=this.editor.lookup.getLeafAtPoint(r);if(!i||!i.void){var u=this.editor.lookup.marks;if(!t.isCollapsed){var a=(0,s.isLeafOffsetTail)(i,r);u=this.editor.lookup.getLeafMarks(i,a)}var c=new(0,o.Delta)().retain(n.start).delete(n.len).insert(e,u);this.editor.state.apply(c,{range:n})}}},e.deleteFragment=function(t){if(t.isCollapsed)return;var e=(0,d.RawRange).fromRange(this.editor,t);if(!!e){var n=Math.max(e.len,0),r=Math.max(e.start,0);if(!(r<0)&&!(n<=0)){var i=new(0,o.Delta)().retain(r).delete(n);this.editor.state.apply(i,{range:e})}}},e.deleteBackward=function(t){if(!t.isCollapsed)return this.deleteFragment(t);var e=this.editor.state.block.getLine(t.start.line);if(e&&0===t.start.offset){var n=e&&e.prev();if(n&&(0,a.isBlockLine)(n)){if((0,a.isEmptyLine)(e)){var r=new(0,o.Delta)().retain(e.start).delete(1);this.editor.state.apply(r,{autoCaret:!1})}var s=n.getFirstLeaf(),c=s&&s.toRange();c&&this.editor.selection.set(c,!0);return}var l=Object.keys(e.attributes).length;if(l>0){var f=new(0,o.Delta)().retain(e.start+e.length-1).retain(1,(0,o.invertAttributes)(e.attributes));this.editor.state.apply(f,{autoCaret:!1});return}if(n&&!l){var h=(0,i._)({},n.attributes),E=new(0,o.Delta)().retain(e.start-1).delete(1).retain(e.length-1).retain(1,h);this.editor.state.apply(E);return}}var v=(0,d.RawRange).fromRange(this.editor,t);if(!!v){var p=this.editor.lookup.getBackwardOpAtPoint(t.start),g=1;p&&p.insert&&(g=(0,u.getLastUnicodeLen)(p.insert));var _=v.start-g;if(!(_<0)){var O=new(0,o.Delta)().retain(_).delete(g);this.editor.state.apply(O,{range:v})}}},e.deleteForward=function(t){if(!t.isCollapsed)return this.deleteFragment(t);var e=this.editor.state.block.getLine(t.start.line);if(e&&1===t.start.offset&&(0,a.isBlockLine)(e)){this.deleteBackward(t);return}var n=e&&e.next();if(e&&t.start.offset===e.length-1&&n&&(0,a.isBlockLine)(n)){var r=n.getFirstLeaf(),i=r&&r.toRange();i&&this.editor.selection.set(i,!0);return}var s=(0,d.RawRange).fromRange(this.editor,t);if(!!s){var c=s.start,l=this.editor.lookup.getForwardOpAtPoint(t.start),f=1;if(l&&l.insert&&(f=(0,u.getFirstUnicodeLen)(l.insert)),!(c<0)){var h=new(0,o.Delta)().retain(c).delete(f);this.editor.state.apply(h,{range:s})}}},e.insertBreak=function(t,e){var n=(0,d.RawRange).fromRange(this.editor,t),r=this.editor.state.block,s=r.getLine(t.start.line),u=r.getLine(t.end.line);if(n&&s&&u){var a=n.start,f=n.len,h=new(0,o.Delta)().retain(a);f&&h.delete(f);var E=null;if(a===s.start){h.insertEOL();var v=u.length-1;h.retain(v-t.end.offset).retain(1,e),E=new c.Point(t.start.line+1,0)}else if(a===s.start+s.length-1)h.retain(1).insertEOL(e),E=new c.Point(t.start.line+1,0);else{h.insertEOL(s.attributes);var p=u.length-1,g=(0,i._)({},s.attributes,e);h.retain(p-t.end.offset).retain(1,g)}this.editor.state.apply(h,{range:n,autoCaret:!E}),E&&this.editor.selection.set(new l.Range(E,E.clone()))}},e.insertFragment=function(t,e){var n=(0,d.RawRange).fromRange(this.editor,t);if(n){var r=new(0,o.Delta)().retain(n.start).delete(n.len).concat(e);this.editor.state.apply(r,{range:n})}},e.applyMarks=function(t,e,n){if(t.isCollapsed){this.editor.lookup.marks=(0,i._)({},this.editor.lookup.marks,e);return}var r=t.start,s=t.end,u=this.editor.state.block,a=u.getLine(r.line),c=(0,f.RawPoint).fromPoint(this.editor,r);if(a&&c){var l=new o.Delta;l.retain(c.offset);var d=a.length-1;if(r.line===s.line){var h=Math.min(s.offset,d);return l.retain(h-r.offset,e),this.editor.state.apply(l.chop(),n)}l.retain(d-r.offset,e),l.retain(1);for(var E=r.line+1;E<s.line;E++){var v=u.getLine(E);if(!v)break;l.retain(v.length-1,e),l.retain(1)}var p=u.getLine(s.line);if(p){var g=Math.min(s.offset,p.length-1);l.retain(g,e)}this.editor.state.apply(l.chop(),n)}},e.applyLineMarks=function(t,e,n){var r=t.start,i=t.end,s=this.editor.state.block,u=(0,f.RawPoint).fromPoint(this.editor,(0,c.Point).from(r.line,0));if(u){var a=new o.Delta;a.retain(u.offset);for(var l=r.line;l<=i.line;l++){var d=s.getLine(l);if(!d)break;a.retain(d.length-1),a.retain(1,e)}this.editor.state.apply(a,n)}},t}()},84553:function(t,e,n){"use strict";n.r(e),n.d(e,{Plugin:function(){return a}});var r=n("30787"),i=n("37761"),o=n("26374"),s=n("47144"),u=n("92690"),a=function(){function t(e){(0,r._)(this,t),this.editor=e,this.cache={},this.current=[]}var e=t.prototype;return e.destroy=function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.current[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)r.value.destroy()}catch(t){e=!0,n=t}finally{try{!t&&null!=i.return&&i.return()}finally{if(e)throw n}}this.cache={},this.current=[]},e.call=function(t,e){var n=this.getPriorityPlugins(t),r=e,i=!0,s=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;try{var f=l[t],d=f&&(0,o.isFunction)(f)&&f(r);d&&(r=d)}catch(t){this.editor.logger.warning("Plugin ".concat(l," Exec Error"),t)}}}catch(t){s=!0,u=t}finally{try{!i&&null!=c.return&&c.return()}finally{if(s)throw u}}return r},e.getPriorityPlugins=function(t){var e=this.cache[t];if(e)return e;var n=this.current.filter(function(e){return e[t]});return n.sort(function(e,n){return(0,u.getPluginPriority)(t,e)-(0,u.getPluginPriority)(t,n)}),this.cache[t]=n,n},(0,i._)(t,[{key:"register",get:function(){return s.CorePlugin.editor=this.editor,function(t){this.destroy();var e={},n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;e[a.key]=a}}catch(t){r=!0,i=t}finally{try{!n&&null!=u.return&&u.return()}finally{if(r)throw i}}this.current=Object.values(e),s.CorePlugin.editor=null}}}]),t}()},47144:function(t,e,n){"use strict";n.r(e),n.d(e,{CorePlugin:function(){return i}});var r=n("30787"),i=function t(){if((0,r._)(this,t),!t.editor)throw Error("".concat(this," - Miss Editor Container"));this.editor=t.editor};i.editor=null},92690:function(t,e,n){"use strict";n.r(e),n.d(e,{PRIORITY_KEY:function(){return i},getPluginPriority:function(){return o},Priority:function(){return s}});var r=n("26374"),i="__PRIORITY__",o=function(t,e){var n="".concat(i).concat(t),o=e[n];return(0,r.isNil)(o)?r.DEFAULT_PRIORITY:o};function s(t){return function(e,n,r){var o="".concat(i).concat(n);return e[o]=t,r}}},51474:function(t,e,n){"use strict";n.r(e),n.d(e,{CALLER_TYPE:function(){return o},PLUGIN_FUNC:function(){return s}});var r=n("62912"),i=n("29403"),o={SERIALIZE:"serialize",DESERIALIZE:"deserialize",WILL_SET_CLIPBOARD:"willSetToClipboard",WILL_PASTE_DELTAS:"willApplyPasteDelta",WILL_PAINT_LINE_STATE:"willPaintLineState",DID_PAINT_LINE_STATE:"didPaintLineState"},s=(0,i._)((0,r._)({},o),{RENDER_LINE:"renderLine",RENDER_LEAF:"renderLeaf"})},44749:function(t,e,n){"use strict";n.r(e),n.d(e,{Rect:function(){return u}});var r=n("30787"),i=n("26374"),o=n("30296"),s=n("6754"),u=function(){function t(e){(0,r._)(this,t),this.editor=e}var e=t.prototype;return e.getRawCaretRect=function(){var t=this.editor.selection.get();return t?this.getRawRangeRect(t):null},e.getRawPointRect=function(t){var e=(0,o.toDOMPoint)(this.editor,t);if(!e||!e.node||!(0,i.isHTMLElement)(e.node))return null;var n=e.node.getBoundingClientRect();return(0,s.fromDOMRect)(n)},e.getRawRangeRect=function(t){var e=(0,o.toDOMRange)(this.editor,t);if(!e)return null;var n=e.getBoundingClientRect();return(0,s.fromDOMRect)(n)},e.getRawSelectionRect=function(){var t=window.getSelection();if(!t||!t.rangeCount)return null;var e=t.getRangeAt(0);if(!e)return null;var n=e.getBoundingClientRect();return(0,s.fromDOMRect)(n)},e.getEditorRect=function(){var t=this.editor.getContainer().getBoundingClientRect();return(0,s.fromDOMRect)(t)},e.getCaretRect=function(){var t=this.getRawCaretRect();if(!t)return null;var e=this.getEditorRect();return(0,s.relativeTo)(t,e)},e.getPointRect=function(t){var e=this.getRawPointRect(t);if(!e)return null;var n=this.getEditorRect();return(0,s.relativeTo)(e,n)},e.getRangeRect=function(t){var e=this.getRawRangeRect(t);if(!e)return null;var n=this.getEditorRect();return(0,s.relativeTo)(e,n)},e.getSelectionRect=function(){var t=this.getRawSelectionRect();if(!t)return null;var e=this.getEditorRect();return(0,s.relativeTo)(t,e)},t}()},6754:function(t,e,n){"use strict";n.r(e),n.d(e,{fromDOMRect:function(){return r},relativeTo:function(){return i}});var r=function(t){return{top:t.top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width}},i=function(t,e){return{top:t.top-e.top,bottom:t.bottom-e.top,left:t.left-e.left,right:t.right-e.left,height:t.height,width:t.width}}},25537:function(t,e,n){"use strict";n.r(e),n.d(e,{Schema:function(){return s}});var r=n("30787"),i=n("93653"),o=n("53746"),s=function(){function t(e){(0,r._)(this,t),this.void=new Set,this.mark=new Set,this.block=new Set,this.inline=new Set;var n=!0,o=!1,s=void 0;try{for(var u,a=Object.entries(e)[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=(0,i._)(u.value,2),l=c[0],f=c[1];f.void&&this.void.add(l),f.mark&&this.mark.add(l),f.block&&this.block.add(l),f.inline&&this.inline.add(l)}}catch(t){o=!0,s=t}finally{try{!n&&null!=a.return&&a.return()}finally{if(o)throw s}}}var e=t.prototype;return e.isVoid=function(t){var e=this;if(!t||!t.insert||!t.attributes||(0,o.isEOLOp)(t))return!1;var n=t.attributes;return Object.keys(t.attributes).some(function(t){return e.void.has(t)&&!e.inline.has(t)&&n[t]})},e.isInline=function(t){var e=this;if(!t||!t.insert||!t.attributes||(0,o.isEOLOp)(t))return!1;var n=t.attributes;return Object.keys(t.attributes).some(function(t){return e.inline.has(t)&&!e.void.has(t)&&n[t]})},e.isBlock=function(t){var e=this;if(!t||!t.insert||!t.attributes||(0,o.isEOLOp)(t))return!1;var n=t.attributes;return Object.keys(t.attributes).some(function(t){return e.block.has(t)&&n[t]})},e.isEmbed=function(t){var e=this;if(!t||!t.insert||!t.attributes||(0,o.isEOLOp)(t))return!1;var n=t.attributes;return Object.keys(t.attributes).some(function(t){return e.void.has(t)&&e.inline.has(t)&&n[t]})},e.hasVoidKey=function(t){var e=this;if(!t||!t.insert||!t.attributes||(0,o.isEOLOp)(t))return!1;var n=t.attributes;return Object.keys(t.attributes).some(function(t){return e.void.has(t)&&n[t]})},e.hasInlineKey=function(t){var e=this;if(!t||!t.insert||!t.attributes||(0,o.isEOLOp)(t))return!1;var n=t.attributes;return Object.keys(t.attributes).some(function(t){return e.inline.has(t)&&n[t]})},t}()},82313:function(t,e,n){"use strict";n.r(e),n.d(e,{isBlockLine:function(){return i},isEmptyLine:function(){return o}});var r=n("53746"),i=function(t){if(!t)return!1;var e=t.getFirstLeaf();return!!e&&e.void&&!e.inline},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getLeaves();if(!n.length)return!0;if(1!==n.length)return!1;var i=t.getLastLeaf().op;if(!(0,r.isEOLOp)(i))return!1;if(!e)return!0;var o=i.attributes;return!o||!Object.keys(o).length}},20694:function(t,e,n){"use strict";n.r(e),n.d(e,{Selection:function(){return g}});var r=n("30787"),i=n("58739"),o=n("94445"),s=n("26374"),u=n("28262"),a=n("10636"),c=n("83135"),l=n("64951"),f=n("90151"),d=n("43589"),h=n("43302"),E=n("79888"),v=n("79431"),p=n("30296"),g=function(){function t(e){(0,r._)(this,t),this.editor=e,this.lastRecord=0,this.execution=0,this.previous=null,this.current=null,this.editor.event.on(u.EDITOR_EVENT.MOUSE_DOWN,this.onTripleClick),this.editor.event.on(u.EDITOR_EVENT.KEY_DOWN,this.onArrowKeyDown),this.editor.event.on(u.EDITOR_EVENT.SELECTION_CHANGE_NATIVE,this.onNativeSelectionChange),this.editor.event.on(u.EDITOR_EVENT.MOUSE_UP_GLOBAL,this.onForceUpdateDOMSelection)}var e=t.prototype;return e.destroy=function(){this.editor.event.off(u.EDITOR_EVENT.MOUSE_DOWN,this.onTripleClick),this.editor.event.off(u.EDITOR_EVENT.KEY_DOWN,this.onArrowKeyDown),this.editor.event.off(u.EDITOR_EVENT.SELECTION_CHANGE_NATIVE,this.onNativeSelectionChange),this.editor.event.off(u.EDITOR_EVENT.MOUSE_UP_GLOBAL,this.onForceUpdateDOMSelection)},e.get=function(){return this.current},e.toRaw=function(){return(0,d.RawRange).fromRange(this.editor,this.current)},e.limit=function(){var t=Date.now();return t-this.lastRecord>=500&&(this.execution=0,this.lastRecord=t),!!(this.execution++>=100)&&(this.editor.logger.error("Selection Exec Limit",this.execution),!0)},e.onNativeSelectionChange=function(){if(this.editor.state.isComposing())return;var t=this.editor.getContainer(),e=(0,E.getRootSelection)(t),n=(0,E.getStaticSelection)(e);if(!e||!n||this.limit())return;var r=n.startContainer,i=n.endContainer,o=n.collapsed;if(!(0,E.isNeedIgnoreRangeDOM)(r,t)){if(!(!o&&(0,E.isNeedIgnoreRangeDOM)(i,t))){var s=(0,E.isBackwardDOMRange)(e,n),u=(0,v.toModelRange)(this.editor,n,s);this.set(u,!0)}}},e.set=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,f.Range).equals(this.current,t)){this.current=t,e&&this.updateDOMSelection();return}this.previous=this.current,this.current=t,this.editor.logger.debug("Selection Change",t),this.editor.event.trigger(u.EDITOR_EVENT.SELECTION_CHANGE,{previous:this.previous,current:this.current}),e&&this.updateDOMSelection()},e.updateDOMSelection=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t&&this.editor.state.get(c.EDITOR_STATE.COMPOSING)||!t&&this.editor.state.get(c.EDITOR_STATE.MOUSE_DOWN))return!1;var e=this.current,n=this.editor.getContainer(),r=e&&(0,E.getRootSelection)(n);if(!r||!e)return!1;var i=(0,p.toDOMRange)(this.editor,e);if(!i||!i.startContainer||!i.endContainer)return this.editor.logger.warning("Invalid DOM Range",i,e),r.removeAllRanges(),!1;var o=(0,E.getStaticSelection)(r);if((0,p.isEqualDOMRange)(i,o))return!0;var s=i.startContainer,u=i.startOffset,a=i.endContainer,l=i.endOffset;return e.isBackward?r.setBaseAndExtent(a,l,s,u):r.setBaseAndExtent(s,u,a,l),!0},e.focus=function(){!this.editor.state.isFocused()&&(this.editor.getContainer().focus({preventScroll:!0}),this.current&&this.updateDOMSelection(!0))},e.onForceUpdateDOMSelection=function(){this.editor.state.get(c.EDITOR_STATE.FOCUS)&&this.updateDOMSelection(!0)},e.onArrowKeyDown=function(t){var e=(0,a.isArrowLeft)(t),n=(0,a.isArrowRight)(t);if(!(e||n)||t.metaKey||t.altKey)return;var r=this.get();if(!(!r||!this.editor.state.isFocused()||this.editor.state.isComposing())){var i=r.isBackward?r.start:r.end,o=r.isBackward?r.end:r.start,s=this.editor.state.block,u=s&&s.getLine(i.line);if(s&&u){var c=getSelection(),d=c&&(0,E.isVoidZeroNode)(c.focusNode),h=0===i.offset||d,v=i.offset===u.length-1,p=null;if(e&&h){var g=u.prev();if(!g)return;p=new l.Point(g.index,g.length-1)}if(n&&v){var _=u.next();if(!_)return;p=new l.Point(_.index,0)}r:if(n&&c&&c.isCollapsed){var O=this.editor.lookup.getLeafAtPoint(i),T=O&&O.next();if(!O||!T||!T.embed)break r;p=new l.Point(i.line,i.offset+1)}if(p){t.preventDefault();var y=t.shiftKey&&r.isCollapsed?!!e:r.isBackward,m=t.shiftKey?o:p.clone(),L=new f.Range(m,p,y);this.set(L,!0)}}}},e.onTripleClick=function(t){if(3===t.detail&&!!this.current){var e=this.current.start.line,n=this.editor.state.block.getLine(e);if(n){var r=(0,f.Range).fromTuple([n.index,0],[n.index,n.length-1]);this.set(r,!0),t.preventDefault()}}},e.move=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.DIRECTION.FORWARD,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.ALERT.MOVE,r=this.editor.getContainer(),i=(0,E.getRootSelection)(r),o=this.current;if(!i||!o)return null;i.modify(n,e,t);var s=(0,E.getStaticSelection)(i);if(!s||this.limit())return null;var u=s.startContainer;if(!r.contains(u))return null;var a=(0,v.toModelRange)(this.editor,s,!1);return a&&this.set(a),a},e.collapse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.DIRECTION.FORWARD,e=this.get();if(!e||e.isCollapsed)return null;var n=e.start,r=e.end,i=t===h.DIRECTION.FORWARD?r:n,o=new f.Range(i,i.clone(),!1,!0);return this.set(o,!0),o},t}();(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",[])],g.prototype,"onNativeSelectionChange",null),(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",[])],g.prototype,"onForceUpdateDOMSelection",null),(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",["undefined"==typeof KeyboardEvent?Object:KeyboardEvent])],g.prototype,"onArrowKeyDown",null),(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",["undefined"==typeof MouseEvent?Object:MouseEvent])],g.prototype,"onTripleClick",null)},64951:function(t,e,n){"use strict";n.r(e),n.d(e,{Point:function(){return o}});var r=n("30787"),i=n("34786"),o=function(){function t(e,n){(0,r._)(this,t),this.line=e,this.offset=n}return t.prototype.clone=function(){return new t(this.line,this.offset)},t.from=function(e,n){return new t(e,n)},t.fromRaw=function(e,n){var r=e.state.block.getLines(),o=(0,i.binarySearch)(r,n.offset);return o?new t(o.index,n.offset-o.start):null},t.isEqual=function(t,e){return t===e||!!t&&!!e&&t.line===e.line&&t.offset===e.offset},t.isBefore=function(t,e){return!!t&&!!e&&(!!(t.line<e.line)||!(t.line>e.line)&&(!!(t.offset<e.offset)||!1))},t.isAfter=function(t,e){return!!t&&!!e&&(!!(t.line>e.line)||!(t.line<e.line)&&(!!(t.offset>e.offset)||!1))},t}()},90151:function(t,e,n){"use strict";n.r(e),n.d(e,{Range:function(){return a}});var r=n("30787"),i=n("93653"),o=n("26374"),s=n("64951"),u=n("24623"),a=function(){function t(e,n,u,a){(0,r._)(this,t);var c,l=(0,s.Point).isBefore(n,e);c=(0,i._)(l?[n,e]:[e,n],2),this.start=c[0],this.end=c[1],this.isBackward=(0,o.isNil)(u)?l:u,this.isCollapsed=(0,o.isNil)(a)?(0,s.Point).isEqual(e,n):a,this.isBackward=!this.isCollapsed&&this.isBackward}return t.prototype.clone=function(){return new t(this.start.clone(),this.end.clone(),this.isBackward,this.isCollapsed)},t.from=function(e,n,r,i){return new t(e,n,r,i)},t.fromRaw=function(e,n){var r=(0,s.Point).fromRaw(e,new u.RawPoint(n.start));if(!r)return null;var i=n.len?(0,s.Point).fromRaw(e,new u.RawPoint(n.start+n.len)):r.clone();return i?new t(r,i,!1,0===n.len):null},t.fromTuple=function(e,n,r,o){var u=(0,i._)(e,2),a=u[0],c=u[1],l=(0,i._)(n,2),f=l[0],d=l[1];return new t(new s.Point(a,c),new s.Point(f,d),r,o)},t.equals=function(t,e){return t===e||!!t&&!!e&&(0,s.Point).isEqual(t.start,e.start)&&(0,s.Point).isEqual(t.end,e.end)},t.includes=function(t,e){if(!t||!e)return!1;var n=t.start,r=t.end,i=e.start,o=e.end,u=!(0,s.Point).isAfter(n,i),a=!(0,s.Point).isBefore(r,o);return u&&a},t.intersects=function(t,e){if(!t||!e)return!1;var n=t.start,r=t.end,i=e.start,o=e.end,u=(0,s.Point).isBefore(n,i)?i:n,a=(0,s.Point).isBefore(r,o)?r:o;return!(0,s.Point).isAfter(u,a)},t.aggregate=function(e,n){if(!e||!n)return null;var r=(0,s.Point).isBefore(e.start,n.start)?e.start:n.start,i=(0,s.Point).isAfter(e.end,n.end)?e.end:n.end;return new t(r,i,!1,!1)},t}()},24623:function(t,e,n){"use strict";n.r(e),n.d(e,{RawPoint:function(){return i}});var r=n("30787"),i=function(){function t(e){(0,r._)(this,t),this.offset=e}return t.prototype.clone=function(){return new t(this.offset)},t.from=function(e){return new t(e)},t.fromPoint=function(e,n){if(!n)return null;var r=e.state.block.getLine(n.line);return!r||n.offset>r.length?(e.logger.warning("Line Offset Error",n.line),null):new t(r.start+n.offset)},t.isEqual=function(t,e){return t===e||!!t&&!!e&&t.offset===e.offset},t.isBefore=function(t,e){return!!t&&!!e&&t.offset<e.offset},t.isAfter=function(t,e){return!!t&&!!e&&t.offset>e.offset},t}()},43589:function(t,e,n){"use strict";n.r(e),n.d(e,{RawRange:function(){return o}});var r=n("30787"),i=n("24623"),o=function(){function t(e,n){(0,r._)(this,t),this.start=e,this.len=n}var e=t.prototype;return e.clone=function(){return new t(this.start,this.len)},e.toPoint=function(){return{start:new i.RawPoint(this.start),end:new i.RawPoint(this.start+this.len)}},t.from=function(e,n){return new t(e,n)},t.fromEdge=function(e,n){var r=Math.min(e,n),i=Math.max(e,n);return new t(r,i-r)},t.fromPoint=function(e,n){return t.fromEdge(e.offset,n.offset)},t.fromRange=function(e,n){if(!n)return null;var r=(0,i.RawPoint).fromPoint(e,n.start),o=n.isCollapsed?r:(0,i.RawPoint).fromPoint(e,n.end);return r&&o?new t(r.offset,Math.max(o.offset-r.offset,0)):null},t.equals=function(t,e){return t===e||!!t&&!!e&&t.start===e.start&&t.len===e.len},t.includes=function(t,e){if(!t||!e)return!1;var n=t.toPoint(),r=n.start,o=n.end,s=e.toPoint(),u=s.start,a=s.end,c=!(0,i.RawPoint).isAfter(r,u),l=!(0,i.RawPoint).isBefore(o,a);return c&&l},t.intersects=function(t,e){if(!t||!e)return!1;var n=t.toPoint(),r=n.start,o=n.end,s=e.toPoint(),u=s.start,a=s.end,c=(0,i.RawPoint).isBefore(r,u)?u:r,l=(0,i.RawPoint).isBefore(o,a)?o:a;return!(0,i.RawPoint).isAfter(c,l)},t}()},43302:function(t,e,n){"use strict";n.r(e),n.d(e,{DIRECTION:function(){return r},ALERT:function(){return i},GRANULARITY:function(){return o}});var r={FORWARD:"forward",BACKWARD:"backward"},i={MOVE:"move",EXTEND:"extend"},o={CHARACTER:"character",WORD:"word",LINE:"line"}},79888:function(t,e,n){"use strict";n.r(e),n.d(e,{getRootSelection:function(){return u},getStaticSelection:function(){return a},getEditableChildAndIndex:function(){return c},getTextNode:function(){return l},isBackwardDOMRange:function(){return f},isEnterZeroNode:function(){return d},isVoidZeroNode:function(){return h},isEmbedZeroNode:function(){return E},isNotEditableNode:function(){return v},isNeedIgnoreRangeDOM:function(){return p}});var r=n("10373"),i=n("26374"),o=n("21465"),s=n("43302"),u=function(t){return t?t.ownerDocument.getSelection():window.getSelection()},a=function(t){var e=t||u();if(!e||!e.anchorNode||!e.focusNode)return null;var n=null;if(e.rangeCount>=1&&(n=e.getRangeAt(0)),!n){var r=document.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset),n=r}return n},c=function(t,e,n){for(var r=t.childNodes,u=r[e],a=e,c=!1,l=!1;((0,i.isDOMComment)(u)||(0,i.isDOMElement)(u)&&0===u.childNodes.length||(0,i.isDOMElement)(u)&&"false"===u.getAttribute(o.EDITABLE))&&(!c||!l);){;if(a>=r.length){c=!0,a=e-1,n=s.DIRECTION.BACKWARD;continue}if(a<0){l=!0,a=e+1,n=s.DIRECTION.FORWARD;continue}u=r[a],e=a,a+=n===s.DIRECTION.FORWARD?1:-1}return[u,e]},l=function(t){if((0,i.isDOMText)(t))return t;if((0,i.isDOMElement)(t)){var e=t.childNodes[0];if(e&&(0,i.isDOMText)(e))return e}return null},f=function(t,e){if(!t||!e)return!1;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset,s=e.startContainer,u=e.startOffset,a=e.endContainer,c=e.endOffset;return n!==s||r!==u||i!==a||o!==c},d=function(t){return!!t&&!!t.parentElement&&((0,r._)(t,HTMLElement)?t.hasAttribute(o.ZERO_ENTER_KEY):t.parentElement.hasAttribute(o.ZERO_ENTER_KEY))},h=function(t){return!!t&&!!t.parentElement&&((0,r._)(t,HTMLElement)?t.hasAttribute(o.ZERO_VOID_KEY):t.parentElement.hasAttribute(o.ZERO_VOID_KEY))},E=function(t){return!!t&&!!t.parentElement&&((0,r._)(t,HTMLElement)?t.hasAttribute(o.ZERO_EMBED_KEY):t.parentElement.hasAttribute(o.ZERO_EMBED_KEY))},v=function(t){return!!t&&!!t.parentElement&&((0,r._)(t,HTMLElement)?"false"===t.getAttribute(o.EDITABLE):"false"===t.parentElement.getAttribute(o.EDITABLE))},p=function(t,e){for(var n=t;n!==e;n=n.parentNode)if(!n||n===document.body||n===document.documentElement||(0,i.isDOMElement)(n)&&n.hasAttribute(o.ISOLATED_KEY))return!0;return!1}},79431:function(t,e,n){"use strict";n.r(e),n.d(e,{toModelPoint:function(){return c},toModelRange:function(){return l}});var r=n("26374"),i=n("11215"),o=n("64951"),s=n("90151"),u=n("79888"),a=n("30296"),c=function(t,e,n){var s=e.offset,a=e.node,c=n.nodeContainer,l=n.nodeOffset,f=n.isCollapsed,d=n.isEndNode,h=(0,i.getLeafNode)(a),E=0,v=0,p=(0,i.getLineNode)(h),g=t.model.getLineState(p);g&&(E=g.index);var _=t.model.getLeafState(h);if(_&&(v=_.offset+s),(0,u.isEnterZeroNode)(a)&&s)return v=Math.max(v-1,0),new o.Point(E,v);if((0,u.isVoidZeroNode)(a)&&1!==s)return new o.Point(E,1);if(_&&_.embed&&s>=1)return(0,u.isEmbedZeroNode)(c)&&l?new o.Point(E,_.offset):!f&&(0,r.isDOMText)(c)?new o.Point(E,_.offset+(d?1:0)):new o.Point(E,_.offset+1);return new o.Point(E,v)},l=function(t,e,n){var r,i,o=e.startContainer,u=e.endContainer,l=e.collapsed,f=e.startOffset,d=e.endOffset;if(l)i=(r=c(t,(0,a.normalizeDOMPoint)({node:o,offset:f},{isCollapsed:!0,isEndNode:!1}),{isCollapsed:!0,isEndNode:!1,nodeContainer:o,nodeOffset:f})).clone();else{var h=(0,a.normalizeDOMPoint)({node:o,offset:f},{isCollapsed:!1,isEndNode:!1}),E=(0,a.normalizeDOMPoint)({node:u,offset:d},{isCollapsed:!1,isEndNode:!0});r=c(t,h,{isCollapsed:!1,isEndNode:!1,nodeContainer:o,nodeOffset:f}),i=c(t,E,{isCollapsed:!1,isEndNode:!0,nodeContainer:u,nodeOffset:d})}return new s.Range(r,i,n)}},30296:function(t,e,n){"use strict";n.r(e),n.d(e,{normalizeDOMPoint:function(){return l},toDOMPoint:function(){return d},toDOMRange:function(){return h},isEqualDOMRange:function(){return E}});var r=n("10373"),i=n("93653"),o=n("5558"),s=n("26374"),u=n("21465"),a=n("43302"),c=n("79888"),l=function(t,e){var n=t.node,r=t.offset,o=e.isCollapsed,u=e.isEndNode;if((0,s.isDOMElement)(n)&&n.childNodes.length){if((0,c.isNotEditableNode)(n)&&n.previousElementSibling&&(0,c.isEmbedZeroNode)(n.previousElementSibling.firstChild))return{node:n.previousElementSibling.firstChild,offset:!o&&u?1:0};var l=r===n.childNodes.length,f=l?r-1:r;for(n=(d=(0,i._)((0,c.getEditableChildAndIndex)(n,f,l?a.DIRECTION.BACKWARD:a.DIRECTION.FORWARD),2))[0],l=(f=d[1])<r;(0,s.isDOMElement)(n)&&n.childNodes.length;){var d,h=l?n.childNodes.length-1:0;n=(0,i._)((0,c.getEditableChildAndIndex)(n,h,l?a.DIRECTION.BACKWARD:a.DIRECTION.FORWARD),1)[0]}r=l&&null!==n.textContent?n.textContent.length:0}return{node:n,offset:r}},f=function(t){var e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return!1===(0,r._)(t,HTMLElement)||t.getAttribute(u.EDITABLE)===s.FALSY||t.hasAttribute(u.VOID_KEY)||t.hasAttribute(u.BLOCK_KEY)||t.hasAttribute(u.ISOLATED_KEY)||t.hasAttribute(u.PLACEHOLDER_KEY)?NodeFilter.FILTER_REJECT:t.hasAttribute(u.LEAF_STRING)||t.hasAttribute(u.ZERO_SPACE_KEY)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return function(){var t,n;return(0,o._)(this,function(r){switch(r.label){case 0:t=e.nextNode(),n=e.nextNode(),r.label=1;case 1:if(!t)return[3,3];return[4,[t,n]];case 2:return r.sent(),t=n,n=e.nextNode(),[3,1];case 3:return[2]}})}()},d=function(t,e){var n=e.line,r=e.offset,o=t.state.block,a=o&&o.getLine(n),c=t.model.getLineNode(a);if(!c)return{node:null,offset:0};if((0,s.isDOMText)(c))return{node:c,offset:r};var l=0,d=f(c),h=!0,E=!1,v=void 0;try{for(var p,g=d[Symbol.iterator]();!(h=(p=g.next()).done);h=!0){var _=(0,i._)(p.value,2),O=_[0],T=_[1];if(O&&null!==O.textContent){var y=O.textContent.length;if(O.hasAttribute(u.ZERO_SPACE_KEY)){y=1;var m=O.getAttribute(u.VOID_LEN_KEY),L=m&&Number.parseInt(m,10);L&&!Number.isNaN(L)&&(y=L)}var N=l+y;if(r<=N){var b=Math.max(r-l,0);if(O.hasAttribute(u.ZERO_EMBED_KEY)&&b&&T)return{node:T,offset:0};if(O.hasAttribute(u.ZERO_VOID_KEY)&&T)return{node:O,offset:1};return{node:O,offset:b}}l=N}}}catch(t){E=!0,v=t}finally{try{!h&&null!=g.return&&g.return()}finally{if(E)throw v}}return{node:null,offset:0}},h=function(t,e){var n=e.start,r=e.end,i=d(t,n),o=e.isCollapsed?i:d(t,r);if(!i.node||!o.node)return null;var s=window.document.createRange(),u=i.node,a=i.offset,l=o.node,f=o.offset,h=(0,c.getTextNode)(u),E=(0,c.getTextNode)(l);return h&&E?(s.setStart(h,Math.min(a,h.length)),s.setEnd(E,Math.min(f,E.length)),s):null},E=function(t,e){return t===e||!!t&&!!e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},51630:function(t,e,n){"use strict";n.r(e),n.d(e,{EditorState:function(){return h}});var r=n("30787"),i=n("53746"),o=n("26374"),s=n("28262"),u=n("90151"),a=n("43589"),c=n("87309"),l=n("80749"),f=n("83135"),d=n("34786"),h=function(){function t(e,n){(0,r._)(this,t),this.editor=e,this.status={},this._delta=n,this.block=new c.BlockState(e,n)}var e=t.prototype;return e.get=function(t){return this.status[t]},e.set=function(t,e){return this.status[t]=e,this},e.isFocused=function(){return!!this.get(f.EDITOR_STATE.FOCUS)},e.isReadonly=function(){return!!this.get(f.EDITOR_STATE.READONLY)},e.isComposing=function(){return!!this.get(f.EDITOR_STATE.COMPOSING)},e.toBlock=function(t){if(!t&&this._delta)return this._delta;var e=this.block.toDelta(t);return this._delta=e,e},e.setContent=function(t){var e=this.block.length-1,n=new(0,i.Delta)().delete(e).concat((0,d.removeLastEOL)(t));return this.apply(n,{undoable:!1}),this.editor.history.clear(),this},e.apply=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.source,r=void 0===n?f.APPLY_SOURCE.USER:n,i=e.autoCaret,c=void 0===i||i,h=e.preventNormalize,E=this.toBlock();this._delta=null;var v=this.editor.selection,p=h?t:(0,d.normalizeDelta)(this.editor,t),g=c?e.range||v.toRaw():null;this.editor.event.trigger(s.EDITOR_EVENT.CONTENT_WILL_CHANGE,{options:e,current:E,source:r,changes:p,extra:e.extra});var _=new l.Mutate(this.block),O=_.compose(p);if(this.block.updateLines(O),c&&g){var T=p.transformPosition(g.start),y=g.len?p.transformPosition(g.start+g.len):T,m=(0,u.Range).fromRaw(this.editor,new a.RawRange(T,y-T));this.editor.selection.set(m)}var L=(0,o.getId)(6),N={id:L,options:e,previous:E,current:this.toBlock(),source:r,changes:p,inserts:_.inserts,revises:_.revises,deletes:_.deletes,extra:e.extra};return this.editor.logger.debug("Editor Content Change",N),this.editor.event.trigger(s.EDITOR_EVENT.CONTENT_CHANGE,N),{id:L}},t}()},87309:function(t,e,n){"use strict";n.r(e),n.d(e,{BlockState:function(){return c}});var r=n("30787"),i=n("72291"),o=n("53746"),s=n("26374"),u=n("29724"),a=n("65366"),c=function(){function t(e,n){var i=this;(0,r._)(this,t),this.editor=e,this.lines=[],this.key=s.ROOT_BLOCK;var o=0;this.lines=[],n.eachLine(function(t,e,n){var r=new a.LineState(t,e,i);r.index=n,r.start=o,r.key=(0,u.Key).getId(r),o+=r.length,i.lines[n]=r}),this.length=o,this.size=this.lines.length}var e=t.prototype;return e.getLine=function(t){return this.lines[t]||null},e.getLines=function(){return this.lines},e.updateLines=function(t){t&&(this.lines=t);var e=0;return this.lines.forEach(function(t,n){t.index=n,t.start=e,t.key=t.key||(0,u.Key).getId(t);var r=t.isDirty?t.updateLeaves():t.length;e+=r}),this.length=e,this.size=this.lines.length,e},e.getDOMNode=function(){return this.editor.model.getBlockNode(this)},e.toDelta=function(t){var e=[],n=!0,r=!1,s=void 0;try{for(var u,a=this.lines[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;e.push.apply(e,(0,i._)(c.getOps()))}}catch(t){r=!0,s=t}finally{try{!n&&null!=a.return&&a.return()}finally{if(r)throw s}}return new o.Delta({ops:t?(0,o.cloneOps)(e):e})},t}()},333:function(t,e,n){"use strict";n.r(e),n.d(e,{LeafState:function(){return c}});var r=n("30787"),i=n("53746"),o=n("64951"),s=n("90151"),u=n("43589"),a=n("29724"),c=function(){function t(e,n){(0,r._)(this,t),this.op=e,this.parent=n,this.key="",this.index=-1,this.offset=-1,this.eol=e.insert===i.EOL;var o=n.parent.editor;this.void=o.schema.isVoid(e),this.embed=o.schema.isEmbed(e),this.inline=o.schema.isInline(e),this.length=e.insert?e.insert.length:0}var e=t.prototype;return e.getText=function(){return this.op.insert||""},e.prev=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index;if(e<0)return null;if(e>0)return this.parent.getLeaf(e-1);if(!t)return null;var n=this.parent.prev();return n?n.getLastLeaf():null},e.next=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index;if(e<0)return null;if(e<this.parent.size-1)return this.parent.getLeaf(e+1);if(!t)return null;var n=this.parent.next();return n?n.getFirstLeaf():null},e.sliceOp=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getText(),r={insert:e?n.slice(t,n.length):n.slice(0,t)};return this.op.attributes&&(r.attributes=this.op.attributes),r},e.updateKey=function(t){return t?(this.key=t,(0,a.Key).update(this,t)):t},e.updateModel=function(t){var e=this.parent.parent.editor,n=e.model.getLeafNode(t);n&&e.model.setLeafModel(n,this)},e.getDOMNode=function(){return this.parent.parent.editor.model.getLeafNode(this)},e.toRange=function(){var t=new o.Point(this.parent.index,this.offset),e=new o.Point(this.parent.index,this.offset+this.length);return new s.Range(t,e)},e.toRawRange=function(){var t=this.toRange();return(0,u.RawRange).fromRange(this.parent.parent.editor,t)},t}()},65366:function(t,e,n){"use strict";n.r(e),n.d(e,{LineState:function(){return c}});var r=n("30787"),i=n("53746"),o=n("64951"),s=n("90151"),u=n("29724"),a=n("333"),c=function(){function t(e,n,o){(0,r._)(this,t),this.attributes=n,this.parent=o,this.isDirty=!1,this.leaves=[],this._ops=null,this.key="",this.size=-1,this.start=-1,this.index=-1,this.length=-1,this._initFromDelta(e),this.op={insert:i.EOL,attributes:n}}var e=t.prototype;return e.getLeaf=function(t){return this.leaves[t]||null},e.setLeaf=function(t,e){return this.leaves[t]===e?this:(this.isDirty=!0,this.leaves[t]=e,this._ops&&(this._ops[t]=e.op),e.index=t,e.key=e.key||(0,u.Key).getId(e),this)},e.getLeaves=function(){return this.leaves},e.getFirstLeaf=function(){return this.getLeaves()[0]||null},e.getLastLeaf=function(){var t=this.getLeaves();return t[t.length-1]||null},e.updateLeaves=function(t){var e=this;t&&(this.leaves=t);var n=0,r=[];return this.leaves.forEach(function(t,i){r.push(t.op),t.offset=n,t.parent=e,t.index=i,n+=t.length,t.key=t.key||(0,u.Key).getId(t)}),this._ops=r,this.length=n,this.isDirty=!1,this.size=this.leaves.length,n},e.getOps=function(){return this._ops?this._ops:(this._ops=this.leaves.map(function(t){return t.op}),this._ops)},e.getText=function(){return this.getOps().map(function(t){return t.insert}).join("")},e.getLineAttrs=function(){return this.attributes},e.prev=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.parent.getLine(this.index-t)},e.next=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.parent.getLine(this.index+t)},e.slice=function(t,e){var n=this.getOps();if(!t&&e>=this.length)return n;for(var r=[],o=new i.OpIterator(n),s=0;s<e&&o.hasNext();){var u=null;s<t?u=o.next(t-s):(u=o.next(e-s),r.push(u)),s+=(0,i.getOpLength)(u)}return r},e.forceRefresh=function(){this.key=(0,u.Key).refresh(this)},e.updateKey=function(t){return t?(this.key=t,(0,u.Key).update(this,t)):t},e.updateModel=function(t){var e=this.parent.editor,n=e.model.getLineNode(t);n&&e.model.setLineModel(n,this)},e.toRange=function(){var t=new o.Point(this.index,0),e=new o.Point(this.index,this.length);return new s.Range(t,e)},e.getDOMNode=function(){return this.parent.editor.model.getLineNode(this)},e._appendLeaf=function(t){t.offset=this.length,this.leaves.push(t),t.index=this.size,this.size++,t.key=t.key||(0,u.Key).getId(t),this.length=this.length+t.length},e._initFromDelta=function(t){this._ops=[],this.leaves=[],this.isDirty=!1;var e=0,n=!0,r=!1,o=void 0;try{for(var s,c=t.ops[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;if(!(0,i.isInsertOp)(l)||!l.insert.length){this.parent.editor.logger.warning("Invalid op in LineState",l);continue}var f=new a.LeafState(l,this);f.offset=e,f.key=(0,u.Key).getId(f),f.index=this._ops.length,this.leaves.push(f),this._ops.push(l),e+=l.insert.length}}catch(t){r=!0,o=t}finally{try{!n&&null!=c.return&&c.return()}finally{if(r)throw o}}this.length=e,this.size=this.leaves.length},e._updateInternalOp=function(t){var e=(0,i.cloneOp)(t);this.op=e,this.attributes=e.attributes||{}},t._create=function(e){return new t(new i.Delta([]),{},e)},t}()},80749:function(t,e,n){"use strict";n.r(e),n.d(e,{Mutate:function(){return l}});var r=n("30787"),i=n("72291"),o=n("53746"),s=n("26374"),u=n("333"),a=n("65366"),c=n("10525"),l=function(){function t(e){(0,r._)(this,t),this.block=e,this.inserts=[],this.deletes=[],this.revises=[],this.newLines=[],this.editor=e.editor,this.lines=e.getLines()}var e=t.prototype;return e.insert=function(t,e){var n=t.getLeaves().length,r=t.getLastLeaf(),i=r&&r.op,c=e.op,l=(0,o.isEOLOp)(c);if((0,o.isEOLOp)(i))return t._appendLeaf(e),t;if(l){t._appendLeaf(e);var f=e.parent.key;return this.newLines.push(t),t!==e.parent&&(t.updateKey(f),t.updateModel(e.parent)),t.updateLeaves(),t._updateInternalOp(c),(0,a.LineState)._create(this.block)}if((0,s.isObject)(i)&&(0,o.isEqualAttributes)(c.attributes,i.attributes)&&(0,o.isInsertOp)(c)&&(0,o.isInsertOp)(i)&&!this.editor.schema.hasVoidKey(i)){var d={insert:i.insert+c.insert};(0,s.isObject)(i.attributes)&&(d.attributes=i.attributes);var h=new u.LeafState(d,t);return h.updateKey(r.key),h.updateModel(r),t.setLeaf(n-1,h),t}return(0,o.isInsertOp)(c)&&t._appendLeaf(e),t},e.compose=function(t){this.inserts=[],this.deletes=[],this.revises=[],this.newLines=[];var e=(0,o.normalizeEOL)(t.ops),n=new c.Iterator(this.lines),r=new o.OpIterator(e),s=r.peek(),l=(0,a.LineState)._create(this.block);if(s&&(0,o.isRetainOp)(s)&&!s.attributes){for(var f=n.firstRetain(s.retain,this.newLines);n.peekType()===o.OP_TYPES.INSERT&&n.peekLength()<=f;){f-=n.peekLength();var d=n.next();if(!!d)l._appendLeaf(d)}s.retain-f>0&&r.next(s.retain-f)}for(;n.hasNext()||r.hasNext();){if(r.peekType()===o.OP_TYPES.INSERT){var h=new u.LeafState(r.next(),l);l=this.insert(l,h),this.inserts.push(h.op);continue}var E=Math.min(n.peekLength(),r.peekLength()),v=n.next(E),p=r.next(E);if((0,o.isRetainOp)(p)){var g=v;if(!v||!g)continue;if(p.attributes){var _=(0,o.composeAttributes)(v.op.attributes,p.attributes),O=(0,o.cloneOp)(v.op);O.attributes=_,(g=new u.LeafState(O,v.parent)).updateKey(v.key)&&g.updateModel(v),this.revises.push({insert:O.insert,attributes:p.attributes})}if(l=this.insert(l,g),!r.hasNext()&&g===v){var T=n.rest(),y=!0,m=!1,L=void 0;try{for(var N,b,S=T.leaf[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var R=b.value;l=this.insert(l,R)}}catch(t){m=!0,L=t}finally{try{!y&&null!=S.return&&S.return()}finally{if(m)throw L}}return(N=this.newLines).push.apply(N,(0,i._)(T.line)),this.newLines}continue}if((0,o.isDeleteOp)(p)){v&&this.deletes.push(v.op);continue}}return(l.getLeaves().length||!this.newLines.length)&&this.insert(l,new u.LeafState((0,o.cloneOp)(o.EOL_OP),l)),this.newLines},t}()},10525:function(t,e,n){"use strict";n.r(e),n.d(e,{Iterator:function(){return s}});var r=n("30787"),i=n("53746"),o=n("333"),s=function(){function t(e){(0,r._)(this,t),this.lines=e,this.row=0,this.col=0,this.offset=0}var e=t.prototype;return e.peek=function(){var t=this.lines[this.row];return t?t.getLeaf(this.col):null},e.peekLength=function(){var t=this.peek();return t?(0,i.getOpLength)(t.op)-this.offset:1/0},e.peekType=function(){var t=this.peek();if(t){var e=t.op;if((0,i.isDeleteOp)(e))return i.OP_TYPES.DELETE;if(!(0,i.isRetainOp)(e))return i.OP_TYPES.INSERT}return i.OP_TYPES.RETAIN},e.stepIntoNext=function(){var t=this.lines[this.row];if(t){var e=t.getLeaves();this.col<e.length-1?this.col++:(this.row++,this.col=0),this.offset=0}},e.hasNext=function(){return this.peekLength()<1/0},e.firstRetain=function(t,e){for(var n=t;t>0;){var r=this.lines[this.row];if(!r||n<r.length)break;this.row++,e.push(r),n-=r.length}return n},e.next=function(t){!t&&(t=1/0);var e=this.peek();if(e){var n=this.offset,r=(0,i.getOpLength)(e.op)-n;t>=r?(t=r,this.stepIntoNext()):this.offset=this.offset+t;var s=e.op;if((0,i.isInsertOp)(s)){if(0===n&&s.insert.length<=t)return e;var u={};e.op.attributes&&(u.attributes=e.op.attributes),u.insert=s.insert.substr(n,t);var a=new o.LeafState(u,e.parent);return!n&&a.updateKey(e.key)&&a.updateModel(e),a}return e}return null},e.rest=function(){var t={leaf:[],line:[]};if(!this.hasNext())return t;if(0===this.offset){if(0===this.col)return t.line=this.lines.slice(this.row),t;var e=this.lines[this.row];return e&&(t.leaf=e.getLeaves().slice(this.col),t.line=this.lines.slice(this.row+1)),t}var n=this.offset,r=this.row,i=this.col,o=this.next(),s=this.lines[r];if(s&&o){var u=s.getLeaves().slice(i+1);t.leaf=[o].concat(u),t.line=this.lines.slice(r+1)}return this.offset=n,this.row=r,this.col=i,t},t}()},83135:function(t,e,n){"use strict";n.r(e),n.d(e,{EDITOR_STATE:function(){return r},APPLY_SOURCE:function(){return i}});var r={COMPOSING:"COMPOSING",MOUNTED:"MOUNTED",READONLY:"READONLY",MOUSE_DOWN:"MOUSE_DOWN",FOCUS:"FOCUS",FOCUSIN:"FOCUSIN",PAINTING:"PAINTING"},i={USER:"USER",REMOTE:"REMOTE",HISTORY:"HISTORY"}},29724:function(t,e,n){"use strict";n.r(e),n.d(e,{Key:function(){return o}});var r=n("30787"),i=new WeakMap,o=function(){function t(e){(0,r._)(this,t),this.id=e||"".concat(t.n++)}return t.getId=function(e){var n=i.get(e);return!n&&(n=new t,i.set(e,n)),n.id},t.refresh=function(e){var n=new t;return i.set(e,n),n.id},t.update=function(e,n){var r=i.get(e)||new t(n);return r.id=n,i.set(e,r),n},t}();o.n=0},34786:function(t,e,n){"use strict";n.r(e),n.d(e,{binarySearch:function(){return u},normalizeDelta:function(){return a},removeLastEOL:function(){return c}});var r=n("62912"),i=n("29403"),o=n("72291"),s=n("53746"),u=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=Math.floor((n+r)/2),o=t[i].start,s=o+t[i].length;if(e>=o&&e<s)return t[i];e<o?r=i-1:n=i+1}return null},a=function(t,e){var n=e.ops,o=[],u=function(t){return(!t.attributes||!Object.keys(t.attributes).length)&&delete t.attributes,o.push(t)};return n.forEach(function(e,a){if(!(0,s.isInsertOp)(e)){o.push(e);return}var c=e.attributes;if(e.insert===s.EOL){u({insert:s.EOL,attributes:c});return}if(t.schema.hasVoidKey(e)){var l=n[a+1];u((0,i._)((0,r._)({},e),{insert:e.insert.slice(0,1)})),t.schema.isVoid(e)&&!(0,s.startsWithEOL)(l)&&u((0,s.cloneOp)(s.EOL_OP));return}var f=e.insert.split(s.EOL);f.forEach(function(t,e){t&&u({insert:t,attributes:c}),e!==f.length-1&&u({insert:s.EOL,attributes:c})})}),new s.Delta(o)},c=function(t){if(!t.ops.length)return t;var e=(0,o._)(t.ops),n=e.pop();if(n&&(0,s.isInsertOp)(n)){var r=(0,s.cloneOp)(n);r.insert=n.insert.replace(/\n$/,""),n=r.insert?r:void 0}return n&&e.push(n),new s.Delta(e)}},93689:function(t,e,n){"use strict";n.r(e),n.d(e,{Tracer:function(){return c}});var r=n("30787"),i=n("58739"),o=n("94445"),s=n("26374"),u=n("28262"),a=n("43589"),c=function(){function t(e){(0,r._)(this,t),this.editor=e,this.rangeRefs=new Set,this.editor.event.on(u.EDITOR_EVENT.CONTENT_CHANGE,this.transform)}var e=t.prototype;return e.destroy=function(){this.rangeRefs.clear(),this.editor.event.off(u.EDITOR_EVENT.CONTENT_CHANGE,this.transform)},e.pack=function(t){var e=this,n={current:t,unpack:function(){return e.unpack(n)}};return this.rangeRefs.add(n),n},e.unpack=function(t){var e=t.current;return this.rangeRefs.delete(t),t.current=null,e},e.transform=function(t){var e=t.changes,n=!0,r=!1,i=void 0;try{for(var o,s=this.rangeRefs[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=u.current;if(c){var l=e.transformPosition(c.start),f=c.len?e.transformPosition(c.start+c.len):l,d=new a.RawRange(l,f-l);u.current=d}}}catch(t){r=!0,i=t}finally{try{!n&&null!=s.return&&s.return()}finally{if(r)throw i}}},t}();(0,i._)([s.Bind,(0,o._)("design:type",Function),(0,o._)("design:paramtypes",["undefined"==typeof ContentChangeEvent?Object:ContentChangeEvent])],c.prototype,"transform",null)},5479:function(t,e,n){"use strict";n.r(e),n.d(e,{composeAttributes:function(){return o}});var r=n("62912"),i=n("26374"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!(0,i.isObject)(t)&&(t={}),!(0,i.isObject)(e)&&(e={});var o=(0,r._)({},e);!n&&(o=Object.keys(o).reduce(function(t,e){return""!==o[e]&&null!==o[e]&&(t[e]=o[e]),t},{}));var s=!0,u=!1,a=void 0;try{for(var c,l=Object.keys(t)[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var f=c.value;void 0!==t[f]&&void 0===e[f]&&(o[f]=t[f])}}catch(t){u=!0,a=t}finally{try{!s&&null!=l.return&&l.return()}finally{if(u)throw a}}return Object.keys(o).length>0?o:void 0}},45747:function(t,e,n){"use strict";n.r(e),n.d(e,{diffAttributes:function(){return i}});var r=n("26374"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(0,r.isObject)(t)&&(t={}),!(0,r.isObject)(e)&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,r){return t[r]!==e[r]&&(n[r]=void 0===e[r]?"":e[r]),n},{});return Object.keys(n).length>0?n:void 0}},64214:function(t,e,n){"use strict";n.r(e),n.d(e,{invertAttributes:function(){return r}});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).reduce(function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n},{});return Object.keys(t).reduce(function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=""),n},n)}},57348:function(t,e,n){"use strict";n.r(e),n.d(e,{transformAttributes:function(){return i}});var r=n("26374"),i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,r.isObject)(t))return e;if((0,r.isObject)(e)){if(!n)return e;var i=Object.keys(e).reduce(function(n,r){return void 0===t[r]&&(n[r]=e[r]),n},{});return Object.keys(i).length>0?i:void 0}}},29455:function(t,e,n){"use strict";n.r(e),n.d(e,{Delta:function(){return g}});var r=n("30787"),i=n("72291"),o=n("26374"),s=n("34880"),u=n.n(s),a=n("5479"),c=n("45747"),l=n("64214"),f=n("57348"),d=n("47437"),h=n("51821"),E=n("40362"),v=n("7438"),p=n("38067"),g=function(){function t(e){(0,r._)(this,t),Array.isArray(e)?this.ops=e:e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}var e=t.prototype;return e.insert=function(t,e){var n={};return(0,o.isString)(t)&&0===t.length?this:(n.insert=t,(0,o.isObject)(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},e.insertEOL=function(t){return this.insert(E.EOL,t)},e.delete=function(t){return t<=0?this:this.push({delete:t})},e.retain=function(t,e){if(t<=0)return this;var n={retain:t};return(0,o.isObject)(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},e.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=(0,d.cloneOp)(t),(0,o.isObject)(n)){if((0,p.isDeleteOp)(t)&&(0,p.isDeleteOp)(n))return this.ops[e-1]={delete:n.delete+t.delete},this;if((0,p.isDeleteOp)(n)&&(0,p.isInsertOp)(t)&&(e-=1,n=this.ops[e-1],!(0,o.isObject)(n)))return this.ops.unshift(t),this;if((0,h.isEqualAttributes)(t.attributes,n.attributes)){if((0,p.isInsertOp)(t)&&(0,p.isInsertOp)(n))return this.ops[e-1]={insert:n.insert+t.insert},(0,o.isObject)(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this;if((0,p.isRetainOp)(t)&&(0,p.isRetainOp)(n))return this.ops[e-1]={retain:n.retain+t.retain},(0,o.isObject)(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},e.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},e.filter=function(t){return this.ops.filter(t)},e.forEach=function(t){this.ops.forEach(t)},e.map=function(t){return this.ops.map(t)},e.partition=function(t){var e=[],n=[];return this.forEach(function(r){(t(r)?e:n).push(r)}),[e,n]},e.reduce=function(t,e){return this.ops.reduce(t,e)},e.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+e.insert.length:e.delete?t-e.delete:t},0)},e.length=function(){return this.reduce(function(t,e){return t+(0,p.getOpLength)(e)},0)},e.slice=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=[],i=(0,v.iterator)(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=(0,p.getOpLength)(s)}return new t(r)},e.compose=function(e){var n=(0,v.iterator)(this.ops),r=(0,v.iterator)(e.ops),i=[],o=r.peek();if(o&&(0,p.isRetainOp)(o)&&!o.attributes){for(var s=o.retain;n.peekType()===E.OP_TYPES.INSERT&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var u=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()===E.OP_TYPES.INSERT)u.push(r.next());else if(n.peekType()===E.OP_TYPES.DELETE)u.push(n.next());else{var c=Math.min(n.peekLength(),r.peekLength()),l=n.next(c),f=r.next(c);if((0,p.isRetainOp)(f)){var d={};(0,p.isRetainOp)(l)?d.retain=c:d.insert=l.insert;var g=(0,a.composeAttributes)(l.attributes,f.attributes,(0,p.isRetainOp)(l));if(g&&(d.attributes=g),u.push(d),!r.hasNext()&&(0,h.isEqualOp)(u.ops[u.ops.length-1],d)){var _=new t(n.rest());return u.concat(_).chop()}}else(0,p.isDeleteOp)(f)&&(0,p.isRetainOp)(l)&&u.push(f)}return u.chop()},e.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},e.merge=function(t){var e,n,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return r?((e=this.ops).push.apply(e,(0,i._)(t.ops)),this):(t.ops.length>0&&(this.push(t.ops[0]),(n=this.ops).push.apply(n,(0,i._)(t.ops.slice(1)))),this)},e.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(t){return t.map(function(n){if(n.insert)return n.insert;throw Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),i=new t,o=u(r[0],r[1],n,!0),s=(0,v.iterator)(this.ops),a=(0,v.iterator)(e.ops);return o.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case u.INSERT:n=Math.min(a.peekLength(),e),i.push(a.next(n));break;case u.DELETE:n=Math.min(e,s.peekLength()),s.next(n),i.delete(n);break;case u.EQUAL:n=Math.min(s.peekLength(),a.peekLength(),e);var r=s.next(n),o=a.next(n);r.insert===o.insert?i.retain(n,(0,c.diffAttributes)(r.attributes,o.attributes)):i.push(o).delete(n)}e-=n}}),i.chop()},e.eachLine=function(e){for(var n=(0,v.iterator)(this.ops),r=new t,i=0;n.hasNext();){if(n.peekType()!==E.OP_TYPES.INSERT)return;var o=n.peek(),s=(0,p.getOpLength)(o)-n.peekLength(),u=(0,p.isInsertOp)(o)?o.insert.indexOf(E.EOL,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{var a=n.next(1);if(r.ops.push(a),!1===e(r,a.attributes||{},i))return;i+=1,r=new t}}r.length()>0&&(r.ops.push({insert:E.EOL}),e(r,{},i))},e.invert=function(e){var n=new t;return this.reduce(function(t,r){if(r.insert)n.delete((0,p.getOpLength)(r));else if(r.retain&&!r.attributes)return n.retain(r.retain),t+r.retain;else if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return e.slice(t,t+i).forEach(function(t){r.delete?n.push(t):r.retain&&r.attributes&&n.retain((0,p.getOpLength)(t),(0,l.invertAttributes)(r.attributes,t.attributes))}),t+i}return t},0),n.chop()},e.transform=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n=!!n;for(var r=(0,v.iterator)(this.ops),i=(0,v.iterator)(e.ops),o=new t;r.hasNext()||i.hasNext();)if(r.peekType()===E.OP_TYPES.INSERT&&(n||i.peekType()!==E.OP_TYPES.INSERT))o.retain((0,p.getOpLength)(r.next()));else if(i.peekType()===E.OP_TYPES.INSERT)o.push(i.next());else{var s=Math.min(r.peekLength(),i.peekLength()),u=r.next(s),a=i.next(s);if(u.delete)continue;a.delete?o.push(a):o.retain(s,(0,f.transformAttributes)(u.attributes,a.attributes,n))}return o.chop()},e.transformPosition=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!!e;for(var n=(0,v.iterator)(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();if(n.next(),o===E.OP_TYPES.DELETE){t-=Math.min(i,t-r);continue}o===E.OP_TYPES.INSERT&&(r<t||!e)&&(t+=i);r+=i}return t},e.clone=function(e){return new t(e?(0,d.cloneOps)(this.ops):this.ops)},t}()},40362:function(t,e,n){"use strict";n.r(e),n.d(e,{OP_TYPES:function(){return r},EOL:function(){return i},EOL_OP:function(){return o}});var r={INSERT:"insert",RETAIN:"retain",DELETE:"delete"},i="\n",o={insert:i}},7438:function(t,e,n){"use strict";n.r(e),n.d(e,{OpIterator:function(){return s},iterator:function(){return u}});var r=n("30787"),i=n("40362"),o=n("38067"),s=function(){function t(e){(0,r._)(this,t),this.ops=e,this.index=0,this.offset=0}var e=t.prototype;return e.hasNext=function(){return this.peekLength()<1/0},e.next=function(t){!t&&(t=1/0);var e=this.ops[this.index];if(!e)return{retain:1/0};var n=this.offset,r=(0,o.getOpLength)(e)-n;if(t>=r?(t=r,this.index=this.index+1,this.offset=0):this.offset=this.offset+t,(0,o.isDeleteOp)(e))return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),(0,o.isRetainOp)(e)?i.retain=t:(0,o.isInsertOp)(e)?i.insert=e.insert.substr(n,t):i.insert=e.insert,i},e.peek=function(){return this.ops[this.index]},e.peekLength=function(){return this.ops[this.index]?(0,o.getOpLength)(this.ops[this.index])-this.offset:1/0},e.peekType=function(){if(this.ops[this.index]){if((0,o.isDeleteOp)(this.ops[this.index]))return i.OP_TYPES.DELETE;if(!(0,o.isRetainOp)(this.ops[this.index]))return i.OP_TYPES.INSERT}return i.OP_TYPES.RETAIN},e.rest=function(){if(!this.hasNext())return[];if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)},t}(),u=function(t){return new s(t)}},38067:function(t,e,n){"use strict";n.r(e),n.d(e,{isRetainOp:function(){return r},isInsertOp:function(){return i},isDeleteOp:function(){return o},getOpLength:function(){return s}});var r=function(t){return t&&"number"==typeof t.retain},i=function(t){return t&&"string"==typeof t.insert},o=function(t){return t&&"number"==typeof t.delete},s=function(t){if(i(t))return t.insert.length;if(r(t))return t.retain;if(o(t))return t.delete;return console.trace("Unknown Op:",t),0}},53746:function(t,e,n){"use strict";n.r(e),n.d(e,{composeAttributes:function(){return r.composeAttributes}}),n.d(e,{invertAttributes:function(){return i.invertAttributes}}),n.d(e,{Delta:function(){return o.Delta}}),n.d(e,{EOL:function(){return s.EOL},EOL_OP:function(){return s.EOL_OP},OP_TYPES:function(){return s.OP_TYPES}}),n.d(e,{OpIterator:function(){return u.OpIterator}}),n.d(e,{getOpLength:function(){return a.getOpLength},isDeleteOp:function(){return a.isDeleteOp},isInsertOp:function(){return a.isInsertOp},isRetainOp:function(){return a.isRetainOp}}),n.d(e,{cloneOp:function(){return c.cloneOp},cloneOps:function(){return c.cloneOps}}),n.d(e,{deltaToText:function(){return l.deltaToText},isEOLOp:function(){return l.isEOLOp},normalizeEOL:function(){return l.normalizeEOL},startsWithEOL:function(){return l.startsWithEOL}}),n.d(e,{isEqualAttributes:function(){return f.isEqualAttributes}});var r=n("5479"),i=n("64214"),o=n("29455"),s=n("40362"),u=n("7438"),a=n("38067"),c=n("47437"),l=n("56759"),f=n("51821");n("34880")},47437:function(t,e,n){"use strict";n.r(e),n.d(e,{cloneOp:function(){return s},cloneOps:function(){return u}});var r=n("62912"),i=n("29403"),o=n("26374"),s=function(t){var e=t.attributes;if((0,o.isNil)(e))return(0,r._)({},t);return(0,i._)((0,r._)({},t),{attributes:Object.assign({},e)})},u=function(t){return t.map(s)}},56759:function(t,e,n){"use strict";n.r(e),n.d(e,{normalizeEOL:function(){return o},isEOLOp:function(){return s},startsWithEOL:function(){return u},deltaToText:function(){return a}});var r=n("40362"),i=n("38067"),o=function(t){var e=[],n=function(t){return!t.attributes&&delete t.attributes,e.push(t)},o=!0,s=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0)!function(){var t=a.value;if(!(0,i.isInsertOp)(t))return e.push(t);var o=t.attributes;if(t.insert===r.EOL)return n({insert:r.EOL,attributes:o});var s=t.insert.split(r.EOL);s.forEach(function(t,e){t&&n({insert:t,attributes:o}),e!==s.length-1&&n({insert:r.EOL,attributes:o})})}()}catch(t){s=!0,u=t}finally{try{!o&&null!=c.return&&c.return()}finally{if(s)throw u}}return e},s=function(t){return t&&(0,i.isInsertOp)(t)&&t.insert===r.EOL},u=function(t){return t&&(0,i.isInsertOp)(t)&&t.insert.startsWith(r.EOL)},a=function(t){return t.ops.map(function(t){return t.insert||""}).join("")}},51821:function(t,e,n){"use strict";n.r(e),n.d(e,{isEqualAttributes:function(){return r},isEqualOp:function(){return i}});var r=function(t,e){if(!t&&!e)return!0;var n=t||{},r=e||{},i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;var s=!0,u=!1,a=void 0;try{for(var c,l=i[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var f=c.value;if(n[f]!==r[f])return!1}}catch(t){u=!0,a=t}finally{try{!s&&null!=l.return&&l.return()}finally{if(u)throw a}}return!0},i=function(t,e){return t===e||!!(t&&e&&t.insert===e.insert&&t.delete===e.delete&&t.retain===e.retain&&r(t.attributes,e.attributes))||!1}},52522:function(t,e,n){"use strict";n.r(e),n.d(e,{useComposing:function(){return s}});var r=n("93653"),i=n("72981"),o=n("2177"),s=function(t){var e=(0,r._)((0,o.useState)(!1),2),n=e[0],s=e[1];return(0,o.useEffect)(function(){var e=function(){return s(!0)},n=function(){return s(!1)};return t.event.on(i.EDITOR_EVENT.COMPOSITION_START,e),t.event.on(i.EDITOR_EVENT.COMPOSITION_END,n),function(){t.event.off(i.EDITOR_EVENT.COMPOSITION_START,e),t.event.off(i.EDITOR_EVENT.COMPOSITION_END,n)}},[t]),{isComposing:n}}},41698:function(t,e,n){"use strict";n.r(e),n.d(e,{useEditorStatic:function(){return r.useEditorStatic}}),n.d(e,{ReadonlyContext:function(){return i.ReadonlyContext},useReadonly:function(){return i.useReadonly}}),n.d(e,{LineModel:function(){return o.LineModel}}),n.d(e,{EditorPlugin:function(){return s.EditorPlugin}}),n.d(e,{InjectWrapKeys:function(){return u.InjectWrapKeys}}),n.d(e,{BlockKit:function(){return a.BlockKit}}),n.d(e,{Editable:function(){return c.Editable}}),n.d(e,{Embed:function(){return l.Embed}}),n.d(e,{Isolate:function(){return f.Isolate}}),n.d(e,{Void:function(){return d.Void}}),n.d(e,{rewriteRemoveChild:function(){return h.rewriteRemoveChild}}),n.d(e,{preventReactEvent:function(){return E.preventReactEvent}}),n.d(e,{MountNode:function(){return v.MountNode}});var r=n("80465"),i=n("61286"),o=n("84142"),s=n("61609"),u=n("21723"),a=n("56422"),c=n("45983"),l=n("80785"),f=n("32638"),d=n("20135"),h=n("6288"),E=n("83000"),v=n("412")},61609:function(t,e,n){"use strict";n.r(e),n.d(e,{EditorPlugin:function(){return s}});var r=n("30787"),i=n("78396"),o=n("63973"),s=function(t){(0,i._)(n,t);var e=(0,o._)(n);function n(){return(0,r._)(this,n),e.apply(this,arguments)}return n}(n("72981").CorePlugin)},78004:function(t,e,n){"use strict";n.r(e),n.d(e,{getPluginPriority:function(){return o}});var r=n("72981"),i=n("26374"),o=function(t,e){var n="".concat(r.PRIORITY_KEY).concat(t),o=e[n];return(0,i.isNumber)(o)?o:i.DEFAULT_PRIORITY}},19534:function(t,e,n){"use strict";n.r(e),n.d(e,{WRAP_TYPE:function(){return r}});var r={LINE:"wrapLine",LEAF:"wrapLeaf"}},10258:function(t,e,n){"use strict";n.r(e),n.d(e,{NO_CURSOR:function(){return r}});var r={width:0,height:0,color:"transparent",position:"absolute"}},6288:function(t,e,n){"use strict";n.r(e),n.d(e,{updateDirtyText:function(){return s},updateDirtyLeaf:function(){return u},rewriteRemoveChild:function(){return a}});var r=n("72981"),i=n("26374"),o=n("94639"),s=function(t){var e=(0,o.LEAF_TO_ZERO_TEXT).get(t),n=!!e,s=n?e:(0,o.LEAF_TO_TEXT).get(t);if(!s)return!1;for(var u=n?r.ZERO_SYMBOL:t.getText(),a=s.childNodes,c=1;c<a.length;++c){var l=a[c];l&&l.remove()}if((0,i.isDOMText)(s.firstChild)){if(s.firstChild.nodeValue===u)return!1;s.firstChild.nodeValue=u}else{var f=(0,o.LEAF_TO_REMOUNT).get(t);f&&f()}return!0},u=function(t,e){var n=t.model.getLeafNode(e),o=n&&n.childNodes;if(!o||o.length<=1)return!1;for(var s=1;s<o.length;++s){var u=o[s];!((0,i.isHTMLElement)(u)&&u.hasAttribute(r.VOID_KEY))&&u.remove()}return!0},a=function(t){var e=Node.prototype.removeChild;t.removeChild=function(t){return t.parentNode!==this?t:e.call(this,t)}}},83e3:function(t,e,n){"use strict";n.r(e),n.d(e,{preventReactEvent:function(){return i}});var r=function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},i=function(t){r(t),r(t.nativeEvent)}},412:function(t,e,n){"use strict";n.r(e),n.d(e,{EDITOR_TO_PORTAL:function(){return s},MountNode:function(){return u}});var r=n("62912"),i=n("68783"),o=new WeakMap,s=new WeakMap,u={set:function(t,e){o.set(t,e)},get:function(t){return o.get(t)||document.body},mount:function(t,e,n,o){var a=s.get(t);if(a){var c=(0,i.createPortal)(n,o||u.get(t));a(function(t){var n=(0,r._)({},t);return n[e]=c,n})}},unmount:function(t,e){var n=s.get(t);n&&n(function(t){var n=(0,r._)({},t);return delete n[e],n})}}},94639:function(t,e,n){"use strict";n.r(e),n.d(e,{LEAF_TO_TEXT:function(){return r},LEAF_TO_ZERO_TEXT:function(){return i},LEAF_TO_REMOUNT:function(){return o},JSX_TO_STATE:function(){return s}});var r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap},79607:function(t,e,n){"use strict";n.r(e),n.d(e,{TEXT_PLAIN:function(){return u},TEXT_HTML:function(){return a},Clipboard:function(){return c}});var r=n("30787"),i=n("66125"),o=n("93653"),s=n("73567"),u="text/plain",a="text/html",c=function(){function t(){(0,r._)(this,t)}return t.execCopyCommand=function(t){var e=document.createElement("textarea");e.addEventListener("copy",function(e){var n=!0,r=!1,i=void 0;try{for(var s,u=Object.entries(t)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var a=(0,o._)(s.value,2),c=a[0],l=a[1];e.clipboardData&&e.clipboardData.setData(c,l)}}catch(t){r=!0,i=t}finally{try{!n&&null!=u.return&&u.return()}finally{if(r)throw i}}e.stopPropagation(),e.preventDefault()},!0),e.style.position="fixed",e.style.left="-999px",e.style.top="-999px",e.value=t[u],document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},t.write=function(e){var n=(0,s.isString)(e)?(0,i._)({},u,e):e;if(!n[u])return!1;if(navigator.clipboard&&window.ClipboardItem){var r={},a=!0,c=!1,l=void 0;try{for(var f,d=Object.entries(n)[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var h=(0,o._)(f.value,2),E=h[0],v=h[1],p=new Blob([v],{type:E});r[E]=p}}catch(t){c=!0,l=t}finally{try{!a&&null!=d.return&&d.return()}finally{if(c)throw l}}return navigator.clipboard.write([new ClipboardItem(r)]).catch(function(){t.execCopyCommand(n)}),!0}return t.execCopyCommand(n),!0},t.writeText=function(e){return!!e&&(navigator.clipboard?(navigator.clipboard.writeText(e).catch(function(){t.execCopyCommand((0,i._)({},u,e))}),!0):(t.execCopyCommand((0,i._)({},u,e)),!0))},t.writeDataTransfer=function(t,e){var n=!0,r=!1,i=void 0;try{for(var s,u=Object.entries(t)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var a=(0,o._)(s.value,2),c=a[0],l=a[1];e.clipboardData&&e.clipboardData.setData(c,l)}}catch(t){r=!0,i=t}finally{try{!n&&null!=u.return&&u.return()}finally{if(r)throw i}}return e.stopPropagation(),e.preventDefault(),!0},t}();c.TEXT_PLAIN=u,c.TEXT_HTML=a},58693:function(t,e,n){"use strict";n.r(e),n.d(e,{Collection:function(){return u}});var r=n("30787"),i=n("10373"),o=n("62912"),s=n("73567"),u=function(){function t(){(0,r._)(this,t)}return t.pick=function(t,e){var n=(0,s.isArray)(e)?e:[e],r={},i=!0,o=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;!(0,s.isUndef)(t[l])&&(r[l]=t[l])}}catch(t){o=!0,u=t}finally{try{!i&&null!=c.return&&c.return()}finally{if(o)throw u}}return r},t.omit=function(t,e){var n=(0,o._)({},t),r=(0,s.isArray)(e)?e:[e],i=!0,u=!1,a=void 0;try{for(var c,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=c.value;delete n[f]}}catch(t){u=!0,a=t}finally{try{!i&&null!=l.return&&l.return()}finally{if(u)throw a}}return n},t.patch=function(t,e){var n=(0,i._)(t,Set)?t:new Set(t),r=(0,i._)(e,Set)?e:new Set(e),o=new Set,s=new Set,u=new Set,a=!0,c=!1,l=void 0;try{for(var f,d=r[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var h=f.value;!n.has(h)&&(s.add(h),o.add(h))}}catch(t){c=!0,l=t}finally{try{!a&&null!=d.return&&d.return()}finally{if(c)throw l}}var E=!0,v=!1,p=void 0;try{for(var g,_=n[Symbol.iterator]();!(E=(g=_.next()).done);E=!0){var O=g.value;!r.has(O)&&(u.add(O),o.add(O))}}catch(t){v=!0,p=t}finally{try{!E&&null!=_.return&&_.return()}finally{if(v)throw p}}return{effects:o,added:s,removed:u}},t.union=function(t,e){var n=new Set(t),r=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var a=s.value;n.add(a)}}catch(t){i=!0,o=t}finally{try{!r&&null!=u.return&&u.return()}finally{if(i)throw o}}return n},t.intersect=function(t,e){var n=(0,i._)(t,Set)?t:new Set(t),r=(0,i._)(e,Set)?e:new Set(e);n.size>r.size&&(n=(c=[r,n])[0],r=c[1]);var o=new Set,s=!0,u=!1,a=void 0;try{for(var c,l,f=n[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;r.has(d)&&o.add(d)}}catch(t){u=!0,a=t}finally{try{!s&&null!=f.return&&f.return()}finally{if(u)throw a}}return o},t.subset=function(t,e){var n=(0,i._)(t,Set)?t:new Set(t),r=(0,i._)(e,Set)?e:new Set(e);if(n.size>r.size)return!1;var o=!0,s=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var l=a.value;if(!r.has(l))return!1}}catch(t){s=!0,u=t}finally{try{!o&&null!=c.return&&c.return()}finally{if(s)throw u}}return!0},t.superset=function(t,e){var n=(0,i._)(t,Set)?t:new Set(t),r=(0,i._)(e,Set)?e:new Set(e);if(n.size<r.size)return!1;var o=!0,s=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var l=a.value;if(!n.has(l))return!1}}catch(t){s=!0,u=t}finally{try{!o&&null!=c.return&&c.return()}finally{if(s)throw u}}return!0},t.symmetric=function(t,e){var n=(0,i._)(t,Set)?t:new Set(t),r=(0,i._)(e,Set)?e:new Set(e),o=new Set,s=!0,u=!1,a=void 0;try{for(var c,l=r[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var f=c.value;n.has(f)||o.add(f)}}catch(t){u=!0,a=t}finally{try{!s&&null!=l.return&&l.return()}finally{if(u)throw a}}return o},t.at=function(t,e){if(!t)return null;var n=e<0?t.length+e:e,r=t[n];return(0,s.isNil)(r)?null:r},t}()},59921:function(t,e,n){"use strict";n.r(e),n.d(e,{ROOT_BLOCK:function(){return i},DEFAULT_PRIORITY:function(){return o},KEY_CODE:function(){return s},TRULY:function(){return u},FALSY:function(){return a},CTRL_KEY:function(){return c},NOOP:function(){return l},NIL:function(){return f}});var r=n("86650"),i="ROOT",o=100,s={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,Z:90,Y:89,A:65,B:66,I:73,K:75,U:85,D2:50},u="true",a="false",c=r.IS_MAC?"metaKey":"ctrlKey",l=function(){return null},f=""},77085:function(t,e,n){"use strict";n.r(e),n.d(e,{Bind:function(){return i}});var r=n("73567");function i(t,e,n){var i=n.value;if(!(0,r.isFunction)(i))throw TypeError("".concat(i," is not a function"));return{configurable:!0,get:function(){var t=i.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,enumerable:!1}),t}}}},39819:function(t,e,n){"use strict";n.r(e),n.d(e,{isDOMText:function(){return s},isDOMElement:function(){return u},isDOMComment:function(){return a},isHTMLElement:function(){return c},stopNativeEvent:function(){return l},preventNativeEvent:function(){return f},isKeyCode:function(){return d}});var r=n("10373"),i=globalThis.Node,o=function(t){return(0,r._)(t,Node)},s=function(t){return o(t)&&t.nodeType===i.TEXT_NODE},u=function(t){return o(t)&&t.nodeType===i.ELEMENT_NODE},a=function(t){return o(t)&&t.nodeType===i.COMMENT_NODE},c=function(t){return o(t)&&(0,r._)(t,HTMLElement)},l=function(t){t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},f=function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},d=function(t,e){return t.keyCode===e}},86650:function(t,e,n){"use strict";n.r(e),n.d(e,{IS_DOM_ENV:function(){return o},IS_MAC:function(){return s}});var r=Object.prototype.toString;"object"==typeof process&&r.call(process);var i="undefined"!=typeof navigator&&"object"==typeof window&&"[object Window]"===r.call(window),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;i&&(window.self,window.top),i&&/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent),i&&/Windows/i.test(navigator.userAgent);var s=i&&/Mac/i.test(navigator.userAgent);i&&/Linux/i.test(navigator.userAgent),i&&/Android/i.test(navigator.userAgent),i&&/iPad/i.test(navigator.userAgent),i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,i&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),i&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),i&&/Chrome/i.test(navigator.userAgent),i&&window.isSecureContext},45053:function(t,e,n){"use strict";n.r(e),n.d(e,{EventBus:function(){return o}});var r=n("30787"),i=n("59921"),o=function(){function t(){(0,r._)(this,t),this.listeners={}}var e=t.prototype;return e.on=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.DEFAULT_PRIORITY;this.addEventListener(t,e,n,!1)},e.once=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.DEFAULT_PRIORITY;this.addEventListener(t,e,n,!0)},e.addEventListener=function(t,e,n,r){var i=this.listeners[t]||[];!i.some(function(t){return t.listener===e})&&i.push({listener:e,priority:n,once:r}),i.sort(function(t,e){return t.priority-e.priority}),this.listeners[t]=i},e.off=function(t,e){var n=this.listeners[t];if(n){var r=n.filter(function(t){return t.listener!==e});this.listeners[t]=r}},e.emit=function(t,e){var n=this.listeners[t];if(!n)return!1;var r={key:t,_stopped:!1,_prevented:!1,stop:function(){r._stopped=!0},prevent:function(){r._prevented=!0}},i=!0,o=!1,s=void 0;try{for(var u,a=n[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var c=u.value;try{c.listener(e,r)}catch(t){console.error("EventBus: Error For Event",c,t)}if(c.once&&this.off(t,c.listener),r._stopped)break}}catch(t){o=!0,s=t}finally{try{!i&&null!=a.return&&a.return()}finally{if(o)throw s}}return r._prevented},e.clear=function(){this.listeners={}},t}()},58564:function(t,e,n){"use strict";n.r(e),n.d(e,{useIsMounted:function(){return s},useUpdateEffect:function(){return u},useUpdateLayoutEffect:function(){return a},useMemoFn:function(){return c},useForceUpdate:function(){return l}});var r=n("93653"),i=n("2177"),o=n("86650"),s=function(){var t=(0,i.useRef)(!1);return(0,i.useEffect)(function(){return t.current=!0,function(){t.current=!1}},[]),{mounted:t,isMounted:(0,i.useCallback)(function(){return t.current},[])}},u=function(t,e){var n=(0,i.useRef)(!1);(0,i.useEffect)(function(){if(n.current)return t();n.current=!0},e)},a=function(t,e){var n=(0,i.useRef)(!1);(0,i.useLayoutEffect)(function(){if(n.current)return t();n.current=!0},e)},c=function(t){var e=(0,i.useRef)(t),n=(0,i.useRef)();return e.current=t,!n.current&&(n.current=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current.apply(this,n)}),n.current},l=function(){var t=(0,r._)((0,i.useState)(1),2),e=t[0],n=t[1],o=(0,i.useCallback)(function(){n(function(t){return t+1})},[]);return{index:e,update:o,forceUpdate:o}};o.IS_DOM_ENV?i.useLayoutEffect:i.useEffect},26374:function(t,e,n){"use strict";n.r(e),n.d(e,{Clipboard:function(){return r.Clipboard},TEXT_HTML:function(){return r.TEXT_HTML},TEXT_PLAIN:function(){return r.TEXT_PLAIN}}),n.d(e,{List:function(){return i.Collection}}),n.d(e,{CTRL_KEY:function(){return o.CTRL_KEY},DEFAULT_PRIORITY:function(){return o.DEFAULT_PRIORITY},FALSY:function(){return o.FALSY},KEY_CODE:function(){return o.KEY_CODE},NIL:function(){return o.NIL},NOOP:function(){return o.NOOP},ROOT_BLOCK:function(){return o.ROOT_BLOCK},TRULY:function(){return o.TRULY}}),n.d(e,{Bind:function(){return s.Bind}}),n.d(e,{isDOMComment:function(){return u.isDOMComment},isDOMElement:function(){return u.isDOMElement},isDOMText:function(){return u.isDOMText},isHTMLElement:function(){return u.isHTMLElement},isKeyCode:function(){return u.isKeyCode},preventNativeEvent:function(){return u.preventNativeEvent},stopNativeEvent:function(){return u.stopNativeEvent}}),n.d(e,{IS_MAC:function(){return a.IS_MAC}}),n.d(e,{EventBus:function(){return c.EventBus}}),n.d(e,{isArray:function(){return l.isArray},isFunction:function(){return l.isFunction},isNil:function(){return l.isNil},isNumber:function(){return l.isNumber},isObject:function(){return l.isObject},isObjectLike:function(){return l.isObjectLike},isPlainObject:function(){return l.isPlainObject},isString:function(){return l.isString},isUndef:function(){return l.isUndef}}),n.d(e,{TSON:function(){return f.TSON}}),n.d(e,{sleep:function(){return d.sleep}}),n.d(e,{Storage:function(){return h.Storage}}),n.d(e,{cs:function(){return E.cs},Facade:function(){return E.Facade}}),n.d(e,{throttle:function(){return v.throttle}}),n.d(e,{getId:function(){return p.getId}});var r=n("79607"),i=n("58693"),o=n("59921"),s=n("77085"),u=n("39819"),a=n("86650"),c=n("45053"),l=n("73567"),f=n("93717"),d=n("84114"),h=n("13932"),E=n("95055"),v=n("47096"),p=n("41793")},73567:function(t,e,n){"use strict";n.r(e),n.d(e,{isUndef:function(){return i},isNil:function(){return o},isObject:function(){return s},isArray:function(){return u},isNumber:function(){return a},isPlainNumber:function(){return c},isString:function(){return l},isFunction:function(){return f},isPlainObject:function(){return d},isObjectLike:function(){return h}});var r=Object.prototype.toString,i=function(t){return void 0===t},o=function(t){return null==t},s=function(t){return"[object Object]"===r.call(t)},u=function(t){return Array.isArray(t)},a=function(t){return"[object Number]"===r.call(t)},c=function(t){return/^(-|\+)?\d+(\.\d+)?$/.test(String(t))},l=function(t){return"[object String]"===r.call(t)},f=function(t){return"function"==typeof t},d=function(t){return!!s(t)&&(null===Object.getPrototypeOf(t)||t.constructor===Object)},h=function(t){return!!t&&"object"==typeof t}},93717:function(t,e,n){"use strict";n.r(e),n.d(e,{decode:function(){return r},encode:function(){return i},TSON:function(){return o}});var r=function(t){try{return JSON.parse(t)}catch(t){console.log("Decode JSON Error:",t)}return null},i=function(t){try{return JSON.stringify(t)}catch(t){console.log("Encode JSON Error:",t)}return null},o={decode:r,encode:i,parse:r,stringify:i}},84114:function(t,e,n){"use strict";n.r(e),n.d(e,{sleep:function(){return r}});var r=function(t){return new Promise(function(e){var n=null;n=setTimeout(function(){return e(n)},t)})}},13932:function(t,e,n){"use strict";n.r(e),n.d(e,{Storage:function(){return l}});var r=n("93717"),i="",o="__STORAGE__",s=function(t){return i+String(t)+o},u=function(t,e){try{var n={origin:t,expire:null};if(e){var i=Date.now();n.expire=e+i}return(0,r.encode)(n)}catch(t){return console.log("Serialize Storage Error:",t),null}},a=function(t){try{var e=(0,r.decode)(t);if(!e||Number.isNaN(e.expire)||e.expire&&Date.now()>e.expire)return null;return e.origin}catch(t){return console.log("Deserialize Storage Error:",t),null}},c={get:function(t,e){var n=s(e),r=t.getItem(n);if(!r)return null;var i=a(r);return null===i&&this.remove(t,n),i},set:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=s(e),o=u(n,r);if(o)return t.setItem(i,o)},getOrigin:function(t,e){var n=s(e);return t.getItem(n)},remove:function(t,e){var n=s(e);return t.removeItem(n)}},l={setPrefix:function(t){i=t},setSuffix:function(t){o=t},local:{get:function(t){return c.get(localStorage,t)},set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c.set(localStorage,t,e,n)},getOrigin:function(t){return c.getOrigin(localStorage,t)},remove:function(t){return c.remove(localStorage,t)}},session:{get:function(t){return c.get(sessionStorage,t)},set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c.set(sessionStorage,t,e,n)},getOrigin:function(t){return c.getOrigin(sessionStorage,t)},remove:function(t){return c.remove(sessionStorage,t)}}}},95055:function(t,e,n){"use strict";n.r(e),n.d(e,{Facade:function(){return u},cs:function(){return a}});var r=n("30787"),i=n("93653"),o=n("72291"),s=n("73567"),u=function(){function t(){(0,r._)(this,t)}return t.pixelate=function(t){return(0,s.isNil)(t)||""===t?null:(0,s.isString)(t)&&t.endsWith("px")?t:(0,s.isPlainNumber)(t)?t+"px":null},t.digitize=function(t){if(!t)return null;if((0,s.isPlainNumber)(t)){var e=Number(t);return Number.isNaN(e)?null:e}if(t.endsWith("px")){var n=Number(t.replace("px",""));return Number.isNaN(n)?null:n}if(t.endsWith("%")){var r=Number(t.replace("%",""))/100;return Number.isNaN(r)?null:r}return null},t.setToDOM=function(t,e){Object.entries(e).forEach(function(e){var n=(0,i._)(e,2),r=n[0],o=n[1];t.style[r]=o})},t.classes=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return(0,s.isString)(t)}).join(" ")},t.cx=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=[],i=!0,u=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)!function(){var t=c.value;if(!t)return;if((0,s.isString)(t))return r.push(t);if((0,s.isObject)(t)){var e=Object.keys(t).filter(function(e){return t[e]});r.push.apply(r,(0,o._)(e))}}()}catch(t){u=!0,a=t}finally{try{!i&&null!=l.return&&l.return()}finally{if(u)throw a}}return r.join(" ")},t.animation=function(t,e,n){return t&&t.animate(e,n)},t}(),a=u.classes;u.cx},47096:function(t,e,n){"use strict";n.r(e),n.d(e,{throttle:function(){return s}});var r=n("62912"),i=n("73567"),o={wait:100,leading:!0,trailing:!0},s=function(t,e){var n,s=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n=this,a=e;var o=Date.now();if(d&&h&&(0,i.isNil)(c)){o-u>f&&v(),c=setTimeout(v,f);return}if(!d&&h&&(0,i.isNil)(c)){c=setTimeout(v,f);return}if(d&&!h&&(0,i.isNil)(c)){v(),c=setTimeout(E,f);return}},u=0,a=[],c=null,l=Object.assign((0,r._)({},o),(0,i.isNumber)(e)?{wait:e}:e),f=l.wait,d=l.leading,h=l.trailing,E=function(){c&&clearTimeout(c),c=null},v=function(){u=Date.now(),t.apply(n,a),E()};return s.flush=v,s.cancel=E,s}},41793:function(t,e,n){"use strict";n.r(e),n.d(e,{getId:function(){return i}});var r="QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm0123456789",i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=Array(t-1).fill("");return r[Math.floor(52*Math.random())]+e.map(function(){return r[Math.floor(Math.random()*r.length)]}).join("")}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){return t&&t.__esModule?t.default:t},n("48240")}();